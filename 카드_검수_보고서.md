# 카드 검수 보고서

## 📋 검수 개요
- **검수 일시**: 2025-01-XX
- **검수 대상**: BuildAllCharacterCards.ps1로 생성된 카드 (168장)
- **검수 내용**: 카드 텍스트와 실제 코드 처리 로직 일치 여부

---

## ✅ 정상 작동하는 카드 (16종)

### Attack 타입
1. **기본 공격** - 피해 20 ✅
   - 코드: `Damage` 효과 처리됨
   - 텍스트: "적에게 피해 20" ✅

2. **파이어볼** - 피해 30, 화상 1중첩 ✅
   - 코드: `Damage` + `ApplyStatus(Burn)` 처리됨
   - 텍스트: "피해 30, 화상 1중첩 부여" ✅

3. **화염 폭발** - 전체 피해 40, 화상 부여 ✅
   - 코드: `Damage(aoe: true)` + `ApplyStatus(Burn)` 처리됨
   - 텍스트: "전체 피해 40, 화상 부여" ✅

### Heal 타입
4. **기본 회복** - HP +20 ✅
   - 코드: `Heal` 효과 처리됨
   - 텍스트: "HP +20" ✅

5. **강한 회복** - HP +40 ✅
   - 코드: `Heal` 효과 처리됨
   - 텍스트: "HP +40" ✅

6. **완전 회복** - HP +60 ✅
   - 코드: `Heal` 효과 처리됨
   - 텍스트: "HP +60" ✅

7. **축복** - HP +60, 공격력 +20% (2턴) ✅
   - 코드: `Heal` + `Buff(attack, 20, 2)` 처리됨
   - 텍스트: "HP +60, 공격력 +20% (2턴)" ✅

### Special 타입
8. **추가 드로우** - 카드 2장 드로우 ✅
   - 코드: `Draw(2)` 효과 처리됨
   - 텍스트: "카드 2장 드로우" ✅

9. **행동력 증가** - 행동력 +1 ✅
   - 코드: `GainAction(1)` 효과 처리됨
   - 텍스트: "행동력 +1" ✅

### Defense 타입
10. **방패 올리기** - 보호막 20 (1턴) ✅
    - 코드: `Shield(20, 1)` 효과 처리됨
    - 텍스트: "보호막 20 (1턴)" ✅

11. **받아치기** - 반격 20 (1턴) ✅
    - 코드: `Counter(20, 1)` 효과 처리됨
    - 텍스트: "반격 20 (1턴)" ✅

12. **무효의 벽** - 상대 공격 1회 무효 ✅
    - 코드: `Nullify(1)` 효과 처리됨
    - 텍스트: "상대 공격 1회 무효" ✅

13. **성스러운 보호** - 보호막 40 (2턴), 화상 면역 ✅
    - 코드: `Shield(40, 2)` + `Immune([Burn], 1)` 처리됨
    - 텍스트: "보호막 40 (2턴), 화상 면역" ✅

---

## ⚠️ 부분 작동하는 카드 (3종)

### 1. 처형 (Attack/Legendary)
- **텍스트**: "피해 50, 체력 30% 이하시 +30"
- **cards.json**: `Damage(50)` + `Conditional(if: targetHp<=30%, then: Damage(30))`
- **코드 처리**: ❌ `Conditional` 효과 타입이 처리되지 않음
- **현재 동작**: 피해 50만 적용됨 (조건부 +30 피해 미적용)
- **해결 방법**: `store.ts`의 `playCard` 함수에 `Conditional` 효과 처리 로직 추가 필요

### 2. 더블캐스트 (Special/Epic)
- **텍스트**: "다음 공격 카드 2회 사용"
- **cards.json**: `DuplicateNext(typeFilter: "Attack", times: 1)`
- **코드 처리**: ❌ `DuplicateNext` 효과 타입이 처리되지 않음
- **현재 동작**: 효과가 적용되지 않음
- **해결 방법**: `store.ts`에 `DuplicateNext` 효과 처리 로직 추가 필요

### 3. 복제 (Special/Legendary)
- **텍스트**: "덱에서 공격 카드 1장 손패로"
- **cards.json**: `CopyCard(from: "deck", filter: "type:Attack", to: "hand")`
- **코드 처리**: ❌ `CopyCard` 효과 타입이 처리되지 않음
- **현재 동작**: 효과가 적용되지 않음
- **해결 방법**: `store.ts`에 `CopyCard` 효과 처리 로직 추가 필요

---

## ❌ cards.json에 없는 카드 (BuildAllCharacterCards.ps1에만 정의됨)

### Attack 타입 (6종)
1. **강한 공격** - 피해 35
2. **바람 베기** - 피해 18, 취약 20% (1턴)
3. **이중타** - 피해 20 x 2회
4. **번개 일격** - 피해 45, 감전
5. **얼음 가시** - 피해 25, 빙결 (1턴)
6. **연쇄 번개** - 피해 35, 2타겟 연쇄

### Heal 타입 (6종)
1. **정화** - 나쁜 상태 2개 해제
2. **생명 전이** - 자기 HP 20을 아군으로 이전
3. **지속 회복** - 3턴간 매 턴 HP +10
4. **보호 회복** - HP +40, 보호막 20 (1턴)
5. **단체 회복** - 전체 HP +45
6. **부활 기도** - 30% 확률로 HP 30으로 부활

### Special 타입 (6종)
1. **면역** - 화상, 감전 면역 (1턴)
2. **무효화** - 상대 공격 1회 무효
3. **속도 강화** - 우선순위 +1 (1턴)
4. **침묵** - 상대 특수 효과 무효 (1턴)
5. **속성 전환** - 얼음 → 번개 변환 (1턴)
6. **시간 왜곡** - 행동력 +2, 카드 1장 드로우

### Defense 타입 (6종)
1. **수비 태세** - 가드 20 (1턴)
2. **얼음 벽** - 가드 30, 빙결 30% (1턴)
3. **바람 장막** - 회피 100% (1회, 1턴)
4. **가시 갑옷** - 가시 15 (2턴)
5. **정화 방벽** - 보호막 25, 상태 2개 해제
6. **철벽** - 가드 60 (2턴)

**총 24종의 카드가 cards.json에 없음**

---

## 🔍 코드 처리 가능 여부 분석

### ✅ 이미 구현된 효과 타입으로 처리 가능한 카드

#### Attack 타입
- **강한 공격** (피해 35) → `Damage(35)` ✅
- **번개 일격** (피해 45, 감전) → `Damage(45)` + `ApplyStatus(Shock)` ✅
- **얼음 가시** (피해 25, 빙결 1턴) → `Damage(25)` + `ApplyStatus(Freeze, duration: 1)` ✅
- **연쇄 번개** (피해 35, 2타겟 연쇄) → `Damage(35)` + `Chain(targets: 2, ratio: 0.5)` ✅
- **바람 베기** (피해 18, 취약 20% 1턴) → `Damage(18)` + `Vulnerable(20, 1)` ✅
- **이중타** (피해 20 x 2회) → `Damage(20)` + `Damage(20)` 또는 별도 처리 필요 ⚠️

#### Heal 타입
- **지속 회복** (3턴간 매 턴 HP +10) → `Regen(10, 3)` ✅
- **보호 회복** (HP +40, 보호막 20 1턴) → `Heal(40)` + `Shield(20, 1)` ✅
- **단체 회복** (전체 HP +45) → `Heal(45, aoe: true)` ✅
- **정화** (나쁜 상태 2개 해제) → `Cleanse(maxStacks: 2)` ✅

#### Special 타입
- **면역** (화상, 감전 면역 1턴) → `Immune([Burn, Shock], 1)` ✅
- **무효화** (상대 공격 1회 무효) → `Nullify(1)` ✅
- **속도 강화** (우선순위 +1 1턴) → `PriorityBoost(1, 1)` ✅ (로그만, 실제 우선순위 시스템 미구현)
- **침묵** (상대 특수 효과 무효 1턴) → `Silence(1)` ✅ (로그만, 실제 효과 미구현)
- **시간 왜곡** (행동력 +2, 카드 1장 드로우) → `GainAction(2)` + `Draw(1)` ✅

#### Defense 타입
- **수비 태세** (가드 20 1턴) → `Guard(20, 1)` ✅
- **얼음 벽** (가드 30, 빙결 30% 1턴) → `Guard(30, 1)` + `ApplyStatus(Freeze, chance: 30, duration: 1)` ✅
- **바람 장막** (회피 100% 1회 1턴) → `Evasion(100, charges: 1, duration: 1)` ✅
- **가시 갑옷** (가시 15 2턴) → `Counter(15, 2)` ✅ (반격으로 구현 가능)
- **정화 방벽** (보호막 25, 상태 2개 해제) → `Shield(25, 1)` + `Cleanse(maxStacks: 2)` ✅
- **철벽** (가드 60 2턴) → `Guard(60, 2)` ✅

### ❌ 구현되지 않은 효과 타입이 필요한 카드

1. **생명 전이** (자기 HP 20을 아군으로 이전)
   - 현재 코드에 HP 전이 효과 없음
   - 구현 필요: `TransferHp` 효과 타입 추가

2. **부활 기도** (30% 확률로 HP 30으로 부활)
   - 현재 코드에 부활 효과 없음
   - 구현 필요: `Revive` 효과 타입 추가

3. **속성 전환** (얼음 → 번개 변환 1턴)
   - 현재 코드에 속성 전환 효과 없음
   - 구현 필요: `ElementShift` 효과 타입 추가

---

## 📊 요약

### 통계
- **정상 작동**: 16종 ✅
- **부분 작동**: 3종 ⚠️ (처형, 더블캐스트, 복제)
- **cards.json에 없음**: 24종 ❌
- **구현 불가능**: 3종 ❌ (생명 전이, 부활 기도, 속성 전환)

### 우선순위별 수정 사항

#### 🔴 긴급 (게임 플레이에 직접 영향)
1. **Conditional 효과 처리 추가** (처형 카드)
2. **DuplicateNext 효과 처리 추가** (더블캐스트 카드)
3. **CopyCard 효과 처리 추가** (복제 카드)

#### 🟡 중요 (카드 다양성 확보)
4. **cards.json에 누락된 24종 카드 추가**
   - 이미 구현된 효과 타입으로 처리 가능한 21종 우선 추가
   - 이중타는 별도 처리 로직 필요

#### 🟢 선택 (고급 기능)
5. **TransferHp 효과 타입 추가** (생명 전이)
6. **Revive 효과 타입 추가** (부활 기도)
7. **ElementShift 효과 타입 추가** (속성 전환)

---

## 💡 권장 사항

1. **즉시 수정**: Conditional, DuplicateNext, CopyCard 효과 처리 로직 추가
2. **단기 수정**: cards.json에 누락된 21종 카드 추가 (이미 구현된 효과 타입 사용)
3. **중기 수정**: 이중타, 생명 전이, 부활 기도, 속성 전환 효과 구현
4. **장기 개선**: PriorityBoost, Silence 효과의 실제 게임 로직 구현 (현재는 로그만)

