<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>빈틈없는 악역영애가 회귀했다면, 이번엔 가문 인정받을 때까지 그만둘 수 없어</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@400;500;600;700&family=Nanum+Myeongjo:wght@400;700;800&family=Black+Han+Sans&family=Nanum+Pen+Script&display=swap" rel="stylesheet">
          <style>
            /* ==================== 디자인 시스템 ==================== */
            
            /* CSS 변수 - 컬러 팔레트 */
            :root {
              /* Primary Colors */
              --color-primary: #4a9eff;
              --color-primary-dark: #1565C0;
              --color-primary-light: #66BB6A;
              
              /* Background Colors */
              --color-bg-dark: #0F1A2C;
              --color-bg-darker: #0a1219;
              --color-bg-panel: rgba(0, 0, 0, 0.8);
              --color-bg-panel-light: rgba(42, 63, 95, 0.6);
              --color-bg-button: #2a3f5f;
              --color-bg-button-hover: #3a4f75;
              
              /* Text Colors */
              --color-text-primary: #ffffff;
              --color-text-secondary: #aaaaaa;
              --color-text-muted: #777777;
              --color-text-highlight: #ffeb3b;
              
              /* State Colors */
              --color-success: #4CAF50;
              --color-success-dark: #2e7d32;
              --color-warning: #ff9800;
              --color-danger: #f44336;
              --color-danger-dark: #8b0000;
              --color-info: #4a9eff;
              
              /* Card Rarity Colors */
              --color-rarity-common: #9e9e9e;
              --color-rarity-uncommon: #4caf50;
              --color-rarity-rare: #2196f3;
              --color-rarity-epic: #9c27b0;
              --color-rarity-legendary: #ff9800;
              
              /* Status Effect Colors */
              --color-status-defense: #2196f3;
              --color-status-buff: #66BB6A;
              --color-status-debuff: #f44336;
              --color-status-neutral: #9e9e9e;
              
              /* Border & Shadow */
              --color-border: #3a4f75;
              --color-border-highlight: #4a9eff;
              --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.3);
              --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.4);
              --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.5);
              --shadow-glow: 0 2px 8px rgba(74, 158, 255, 0.5);
              
              /* Typography */
              --font-family-base: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
              --font-family-display: 'Georgia', serif;
              
              --font-size-xs: 10px;
              --font-size-sm: 11px;
              --font-size-base: 13px;
              --font-size-md: 14px;
              --font-size-lg: 16px;
              --font-size-xl: 18px;
              --font-size-2xl: 24px;
              --font-size-3xl: 32px;
              
              --font-weight-normal: 400;
              --font-weight-medium: 500;
              --font-weight-bold: 700;
              
              --line-height-tight: 1.2;
              --line-height-normal: 1.5;
              --line-height-relaxed: 1.8;
              
              /* Spacing */
              --space-xs: 4px;
              --space-sm: 6px;
              --space-md: 8px;
              --space-lg: 12px;
              --space-xl: 16px;
              --space-2xl: 20px;
              --space-3xl: 24px;
              
              /* Border Radius */
              --radius-sm: 4px;
              --radius-md: 6px;
              --radius-lg: 8px;
              --radius-xl: 12px;
              --radius-full: 50%;
              
              /* Transitions */
              --transition-fast: 0.1s ease;
              --transition-base: 0.2s ease;
              --transition-slow: 0.3s ease-out;
              
              /* Z-index layers */
              --z-base: 1;
              --z-dropdown: 100;
              --z-sticky: 120;
              --z-overlay: 140;
              --z-modal: 150;
              --z-popover: 160;
              --z-tooltip: 200;
            }
            
            /* Base Styles */
            * {
              box-sizing: border-box;
            }
            
            html, body, #app { 
              height: 100%; 
              margin: 0; 
              background: var(--color-bg-dark); 
              overflow: hidden;
              font-family: var(--font-family-base);
              color: var(--color-text-primary);
              line-height: var(--line-height-normal);
            }
            
            body.auth-locked {
              overflow: hidden;
            }

            .auth-hidden {
              display: none !important;
            }

            #auth-screen {
              position: fixed;
              inset: 0;
              display: flex;
              align-items: center;
              justify-content: center;
              background: linear-gradient(135deg, rgba(15, 26, 44, 0.96), rgba(8, 12, 24, 0.92));
              backdrop-filter: blur(6px);
              z-index: 2000;
              padding: 24px;
            }

            #auth-screen .auth-panel {
              width: min(420px, 90vw);
              background: rgba(12, 22, 36, 0.95);
              border: 2px solid rgba(74, 158, 255, 0.35);
              border-radius: 18px;
              padding: 32px 28px;
              box-shadow: var(--shadow-lg);
              display: flex;
              flex-direction: column;
              gap: 18px;
            }

            #auth-screen .auth-panel h2 {
              margin: 0 0 4px 0;
              font-size: 26px;
              font-weight: 700;
              color: #9ecbff;
              text-align: center;
            }

            .auth-message {
              margin: 0;
              font-size: 14px;
              text-align: center;
              color: rgba(206, 222, 255, 0.85);
            }

            .auth-error {
              margin: 0;
              font-size: 13px;
              text-align: center;
              color: #ff6b6b;
            }

            .auth-form {
              display: flex;
              flex-direction: column;
              gap: 14px;
            }

            .auth-form label {
              display: flex;
              flex-direction: column;
              gap: 6px;
              font-size: 13px;
              color: rgba(206, 222, 255, 0.85);
            }

            .auth-form input {
              padding: 12px 14px;
              border-radius: 10px;
              border: 1px solid rgba(74, 158, 255, 0.35);
              background: rgba(7, 12, 23, 0.85);
              color: var(--color-text-primary);
              font-size: 14px;
              outline: none;
              transition: border-color var(--transition-base), box-shadow var(--transition-base);
            }

            .auth-form input:focus {
              border-color: rgba(106, 176, 255, 0.9);
              box-shadow: 0 0 0 3px rgba(74, 158, 255, 0.15);
            }

            .auth-form button[type="submit"] {
              margin-top: 6px;
              padding: 12px 18px;
              background: linear-gradient(135deg, #4a9eff, #1565c0);
              color: #fff;
              border: none;
              border-radius: 10px;
              font-size: 15px;
              font-weight: 700;
              cursor: pointer;
              transition: transform var(--transition-base), box-shadow var(--transition-base);
            }

            .auth-form button[type="submit"]:hover:not(:disabled) {
              transform: translateY(-2px);
              box-shadow: 0 8px 20px rgba(74, 158, 255, 0.35);
            }

            .auth-form button[type="submit"]:disabled {
              opacity: 0.6;
              cursor: not-allowed;
            }

            .auth-switch {
              display: flex;
              justify-content: center;
              align-items: center;
              gap: 8px;
              font-size: 13px;
              color: rgba(206, 222, 255, 0.75);
            }

            .auth-switch-btn {
              border: none;
              background: none;
              color: #9ecbff;
              font-size: 13px;
              font-weight: 600;
              cursor: pointer;
              padding: 4px 6px;
              text-decoration: underline;
            }

            .auth-switch-btn:disabled {
              opacity: 0.5;
              cursor: not-allowed;
            }

            .auth-sign-out {
              position: fixed;
              top: 18px;
              right: 18px;
              padding: 10px 16px;
              border-radius: 999px;
              border: 1px solid rgba(74, 158, 255, 0.35);
              background: rgba(12, 22, 36, 0.75);
              color: #9ecbff;
              font-size: 13px;
              cursor: pointer;
              z-index: 1500;
              transition: background var(--transition-base), transform var(--transition-base);
            }

            .auth-sign-out:hover:not(:disabled) {
              background: rgba(74, 158, 255, 0.2);
              transform: translateY(-1px);
            }

            .auth-sign-out:disabled {
              opacity: 0.5;
              cursor: not-allowed;
            }

            .hidden {
              display: none !important;
            }

            body.modal-open {
              overflow: hidden;
            }

            #pvp {
              position: fixed;
              inset: 0;
              display: none;
              align-items: center;
              justify-content: center;
              padding: clamp(32px, 6vw, 90px);
              background: radial-gradient(circle at 20% 20%, rgba(80, 110, 210, 0.3), transparent 55%),
                radial-gradient(circle at 85% 25%, rgba(80, 60, 160, 0.28), transparent 60%),
                linear-gradient(150deg, #0c1524, #111f38 45%, #0c1626);
              color: var(--color-text-primary);
              overflow-y: auto;
              z-index: var(--z-dropdown);
            }

            #pvp::before {
              content: '';
              position: absolute;
              inset: 0;
              background-image: url('backgrounds/fallback_1.webp');
              background-size: cover;
              background-position: center;
              mix-blend-mode: screen;
              opacity: 0.12;
              filter: blur(6px);
              z-index: -2;
            }

            #pvp::after {
              content: '';
              position: absolute;
              inset: 0;
              background: linear-gradient(160deg, rgba(8, 12, 20, 0.85), rgba(12, 18, 36, 0.92));
              z-index: -1;
            }

            #pvp.active {
              display: flex;
            }

            .pvp-panel {
              width: min(1060px, 96vw);
              display: flex;
              flex-direction: column;
              gap: clamp(28px, 4vw, 40px);
              padding: clamp(28px, 4vw, 42px);
              border-radius: 28px;
              border: 1px solid rgba(128, 168, 255, 0.2);
              background: rgba(12, 20, 36, 0.7);
              box-shadow: 0 24px 64px rgba(6, 10, 20, 0.45);
              backdrop-filter: blur(18px);
              position: relative;
              overflow: hidden;
            }

            .pvp-panel::before {
              content: '';
              position: absolute;
              inset: -30% -40% auto;
              height: clamp(260px, 40vh, 320px);
              background: radial-gradient(circle at 50% 50%, rgba(110, 160, 255, 0.25), transparent 70%);
              z-index: -1;
              filter: blur(20px);
            }

            .pvp-header {
              display: flex;
              justify-content: space-between;
              align-items: flex-start;
              gap: clamp(16px, 3vw, 32px);
            }

            .pvp-header-left h2 {
              margin: 0 0 6px 0;
              font-size: clamp(30px, 4vw, 40px);
              font-family: 'Black Han Sans', sans-serif;
              letter-spacing: 0.04em;
              color: #cbe0ff;
              text-shadow: 0 10px 26px rgba(0, 0, 0, 0.5);
            }

            .pvp-header-left p {
              margin: 0;
              font-size: clamp(14px, 1.4vw, 16px);
              color: rgba(210, 222, 255, 0.85);
              line-height: 1.6;
            }

            .pvp-header-right {
              display: inline-flex;
              align-items: center;
              gap: clamp(12px, 2vw, 18px);
            }

            .pvp-status-indicator {
              display: inline-flex;
              align-items: center;
              gap: 8px;
              padding: 10px 18px;
              border-radius: 999px;
              font-size: 14px;
              font-weight: 600;
              letter-spacing: 0.02em;
              background: rgba(98, 138, 255, 0.16);
              color: #aecdff;
              box-shadow: inset 0 0 0 1px rgba(160, 200, 255, 0.25);
              transition: all var(--transition-base);
            }

            .pvp-status-indicator::before {
              content: '';
              width: 10px;
              height: 10px;
              border-radius: 50%;
              background: currentColor;
              box-shadow: 0 0 12px currentColor;
            }

            .pvp-status-indicator.status-idle {
              color: #aecdff;
              background: rgba(96, 130, 255, 0.14);
            }

            .pvp-status-indicator.status-searching {
              color: #ffd580;
              background: rgba(255, 184, 106, 0.14);
            }

            .pvp-status-indicator.status-matched {
              color: #7cffa9;
              background: rgba(94, 255, 180, 0.14);
            }

            .pvp-status-indicator.status-error {
              color: #ff9aa3;
              background: rgba(255, 116, 116, 0.14);
            }

            .pvp-back-btn {
              display: inline-flex;
              align-items: center;
              gap: 6px;
              padding: 10px 18px;
              border-radius: 999px;
              border: 1px solid rgba(140, 180, 255, 0.35);
              background: rgba(28, 44, 78, 0.65);
              color: #c9ddff;
              font-size: 14px;
              font-weight: 600;
              letter-spacing: 0.02em;
              cursor: pointer;
              transition: transform var(--transition-base), box-shadow var(--transition-base), background var(--transition-base);
            }

            .pvp-back-btn:hover:not(:disabled) {
              background: rgba(44, 68, 120, 0.75);
              transform: translateY(-2px);
              box-shadow: 0 8px 18px rgba(22, 36, 64, 0.4);
            }

            .pvp-back-btn:disabled {
              opacity: 0.55;
              cursor: not-allowed;
              box-shadow: none;
              transform: none;
            }

            .pvp-body {
              display: flex;
              gap: clamp(24px, 4vw, 36px);
            }

            .pvp-queue-card {
              flex: 1.4;
              display: flex;
              flex-direction: column;
              gap: clamp(18px, 3vw, 24px);
              padding: clamp(22px, 3vw, 28px);
              border-radius: 22px;
              background: linear-gradient(160deg, rgba(20, 32, 58, 0.92), rgba(10, 18, 34, 0.92));
              border: 1px solid rgba(130, 180, 255, 0.18);
              box-shadow: 0 18px 36px rgba(6, 10, 20, 0.4);
              position: relative;
              overflow: hidden;
            }

            .pvp-queue-card::before {
              content: '';
              position: absolute;
              inset: 0;
              background: radial-gradient(circle at 20% -10%, rgba(140, 190, 255, 0.18), transparent 60%);
              pointer-events: none;
            }

            .pvp-status-message {
              font-size: clamp(15px, 1.6vw, 18px);
              line-height: 1.6;
              color: rgba(220, 230, 255, 0.9);
              min-height: 48px;
            }

            .pvp-opponent {
              display: flex;
              flex-direction: column;
              gap: 8px;
              padding: 16px 18px;
              border-radius: 16px;
              background: rgba(12, 24, 44, 0.65);
              border: 1px solid rgba(140, 180, 255, 0.24);
            }

            .pvp-opponent.hidden {
              display: none;
            }

            .pvp-opponent .label {
              font-size: 13px;
              text-transform: uppercase;
              letter-spacing: 0.04em;
              color: rgba(170, 200, 255, 0.7);
            }

            .pvp-opponent-name {
              font-size: 20px;
              font-weight: 700;
              color: #fff;
              letter-spacing: 0.03em;
            }
            .pvp-opponent-meta {
              font-size: 13px;
              color: rgba(200, 215, 255, 0.75);
              line-height: 1.6;
            }

            .pvp-actions {
              display: flex;
              gap: 16px;
            }

            .pvp-button {
              flex: 1;
              display: inline-flex;
              flex-direction: column;
              gap: 6px;
              align-items: flex-start;
              justify-content: center;
              padding: 16px 22px;
              border-radius: 16px;
              border: 1px solid transparent;
              cursor: pointer;
              font-size: 16px;
              font-weight: 700;
              transition: transform var(--transition-base), box-shadow var(--transition-base), border-color var(--transition-base), background var(--transition-base);
            }
            .pvp-button .label {
              font-size: 16px;
            }

            .pvp-button .sublabel {
              font-size: 12px;
              font-weight: 500;
              color: rgba(220, 230, 255, 0.75);
            }

            .pvp-button.primary {
              background: linear-gradient(135deg, #5d8bff, #365dd0);
              color: #fff;
              box-shadow: 0 12px 28px rgba(44, 86, 200, 0.35);
            }

            .pvp-button.primary:hover:not(:disabled) {
              transform: translateY(-3px);
              box-shadow: 0 18px 34px rgba(44, 86, 200, 0.4);
            }

            .pvp-button.ghost {
              flex: none;
              background: rgba(44, 68, 120, 0.35);
              border: 1px solid rgba(130, 170, 255, 0.35);
              color: #aecdff;
            }

            .pvp-button.ghost:hover:not(:disabled) {
              transform: translateY(-3px);
              background: rgba(56, 92, 160, 0.4);
            }

            .pvp-button:disabled {
              opacity: 0.5;
              cursor: not-allowed;
              box-shadow: none;
              transform: none;
            }

            .pvp-alert {
              display: none;
              padding: 14px 16px;
              border-radius: 12px;
              font-size: 14px;
              background: rgba(255, 123, 130, 0.12);
              border: 1px solid rgba(255, 110, 120, 0.4);
              color: #ff9aa3;
            }

            .pvp-alert.visible {
              display: block;
            }

            .pvp-tips {
              flex: 1;
              display: flex;
              flex-direction: column;
              gap: 14px;
              padding: clamp(22px, 3vw, 28px);
              border-radius: 20px;
              background: rgba(12, 20, 36, 0.6);
              border: 1px solid rgba(100, 140, 210, 0.18);
              box-shadow: inset 0 0 0 1px rgba(80, 120, 200, 0.05);
            }

            .pvp-tips h3 {
              margin: 0;
              font-size: clamp(16px, 2vw, 20px);
              color: #cbe0ff;
            }

            .pvp-tips ul {
              margin: 0;
              padding-left: 18px;
              display: flex;
              flex-direction: column;
              gap: 10px;
              font-size: 14px;
              color: rgba(210, 222, 255, 0.8);
              line-height: 1.6;
            }

            .pvp-meta {
              display: flex;
              flex-wrap: wrap;
              gap: 12px;
              margin-top: auto;
              font-size: 12px;
              color: rgba(170, 190, 230, 0.6);
            }

            .pvp-meta span {
              display: inline-flex;
              align-items: center;
              gap: 6px;
              padding: 8px 12px;
              border-radius: 999px;
              background: rgba(26, 40, 70, 0.65);
              border: 1px solid rgba(120, 160, 230, 0.15);
            }

            @media (max-width: 1024px) {
              #pvp {
                padding: clamp(28px, 6vw, 64px);
              }
              .pvp-panel {
                padding: clamp(24px, 5vw, 36px);
              }
              .pvp-body {
                flex-direction: column;
              }
              .pvp-tips {
                flex-direction: column;
              }
              .pvp-actions {
                flex-direction: column;
              }
              .pvp-button.ghost {
                width: 100%;
                align-items: center;
              }
            }

            @media (max-width: 600px) {
              #pvp {
                padding: clamp(34px, 9vw, 56px);
                padding-top: clamp(72px, 18vh, 96px);
              }
              .pvp-panel {
                border-radius: 22px;
                gap: clamp(20px, 6vw, 32px);
              }
              .pvp-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 16px;
              }
              .pvp-header-right {
                width: 100%;
                justify-content: space-between;
                align-items: center;
              }
              .pvp-status-indicator {
                align-self: flex-start;
              }
              .pvp-back-btn {
                width: auto;
                align-self: flex-start;
              }
              .pvp-queue-card {
                gap: clamp(14px, 5vw, 22px);
              }
              .pvp-status-message {
                min-height: 0;
              }
              .pvp-button {
                width: 100%;
                align-items: center;
                text-align: center;
              }
              .pvp-button .label {
                font-size: 15px;
              }
              .pvp-button .sublabel {
                font-size: 11px;
              }
              .pvp-meta {
                gap: 8px;
              }
            }

            #cloud-sync-overlay {
              position: fixed;
              inset: 0;
              display: flex;
              align-items: center;
              justify-content: center;
              background: rgba(8, 12, 24, 0.55);
              backdrop-filter: blur(2px);
              z-index: 2500;
              opacity: 0;
              pointer-events: none;
              transition: opacity var(--transition-base);
            }

            #cloud-sync-overlay.active {
              opacity: 1;
              pointer-events: all;
            }

            #announcement-modal {
              position: fixed;
              inset: 0;
              display: none;
              align-items: center;
              justify-content: center;
              padding: clamp(24px, 5vw, 64px);
              background: radial-gradient(circle at 15% 20%, rgba(74, 158, 255, 0.14), transparent 55%),
                radial-gradient(circle at 80% 85%, rgba(173, 117, 255, 0.18), transparent 60%),
                rgba(5, 10, 18, 0.88);
              z-index: var(--z-tooltip);
              backdrop-filter: blur(6px);
            }

            #announcement-modal.active {
              display: flex;
            }

            .announcement-panel {
              position: relative;
              width: min(720px, 92vw);
              display: flex;
              flex-direction: column;
              gap: clamp(18px, 3vw, 28px);
              padding: clamp(28px, 4vw, 42px);
              border-radius: 26px;
              border: 1px solid rgba(142, 170, 255, 0.25);
              background: linear-gradient(145deg, rgba(18, 26, 44, 0.92), rgba(10, 16, 28, 0.94));
              box-shadow: 0 24px 64px rgba(4, 8, 18, 0.55);
              overflow: hidden;
            }

            .announcement-close {
              position: absolute;
              top: 18px;
              right: 18px;
              width: 38px;
              height: 38px;
              border-radius: 999px;
              border: 1px solid rgba(158, 186, 255, 0.25);
              background: rgba(15, 22, 36, 0.8);
              color: #d7e3ff;
              font-size: 18px;
              cursor: pointer;
              display: inline-flex;
              align-items: center;
              justify-content: center;
              transition: background var(--transition-base), transform var(--transition-base);
            }

            .announcement-close:hover {
              background: rgba(114, 156, 255, 0.2);
              transform: translateY(-1px);
            }

            .announcement-header {
              display: flex;
              flex-direction: column;
              gap: 10px;
              z-index: 1;
            }

            .announcement-pill {
              display: inline-flex;
              align-items: center;
              gap: 6px;
              width: fit-content;
              padding: 6px 14px;
              border-radius: 999px;
              background: rgba(98, 138, 255, 0.18);
              border: 1px solid rgba(128, 168, 255, 0.35);
              color: #d0dcff;
              font-size: 12px;
              letter-spacing: 0.08em;
              text-transform: uppercase;
              font-weight: 700;
            }

            .announcement-header h2 {
              margin: 0;
              font-size: clamp(26px, 4vw, 34px);
              font-family: 'Black Han Sans', sans-serif;
              color: #e7f0ff;
              letter-spacing: 0.04em;
            }

            .announcement-header p {
              margin: 0;
              font-size: 14px;
              color: rgba(210, 226, 255, 0.82);
              line-height: 1.6;
            }

            .announcement-sections {
              display: grid;
              grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
              gap: clamp(18px, 3vw, 26px);
              z-index: 1;
            }

            .announcement-section {
              padding: clamp(16px, 3vw, 22px);
              border-radius: 18px;
              background: rgba(18, 26, 44, 0.72);
              border: 1px solid rgba(132, 168, 255, 0.18);
              box-shadow: inset 0 0 0 1px rgba(88, 124, 210, 0.08);
            }

            .announcement-section h3 {
              margin: 0 0 12px 0;
              font-size: 16px;
              color: #cfe2ff;
              letter-spacing: 0.02em;
            }

            .announcement-section ul {
              margin: 0;
              padding-left: 18px;
              display: flex;
              flex-direction: column;
              gap: 8px;
              color: rgba(210, 222, 255, 0.82);
              font-size: 14px;
              line-height: 1.6;
            }

            .announcement-actions {
              display: flex;
              flex-wrap: wrap;
              gap: 12px;
              z-index: 1;
            }

            .announcement-actions button {
              padding: 12px 24px;
              border-radius: 999px;
              border: none;
              cursor: pointer;
              font-weight: 700;
              letter-spacing: 0.02em;
              transition: transform var(--transition-base), box-shadow var(--transition-base);
            }

            #announcement-confirm {
              background: linear-gradient(120deg, rgba(89, 140, 255, 0.95), rgba(123, 98, 255, 0.95));
              color: #f4f7ff;
              box-shadow: 0 12px 30px rgba(96, 140, 255, 0.35);
            }

            #announcement-remind-later {
              background: rgba(19, 28, 46, 0.85);
              color: rgba(208, 220, 255, 0.86);
              border: 1px solid rgba(128, 168, 255, 0.25);
            }

            .announcement-actions button:hover {
              transform: translateY(-1px);
            }

            .announcement-portrait {
              position: absolute;
              bottom: clamp(-32px, -6vw, -20px);
              right: clamp(-48px, -6vw, -24px);
              width: clamp(160px, 28vw, 220px);
              opacity: 0.88;
              pointer-events: none;
              filter: drop-shadow(0 12px 28px rgba(12, 16, 32, 0.75));
            }

            @media (max-width: 640px) {
              .announcement-panel {
                padding: 26px 20px;
              }

              .announcement-portrait {
                opacity: 0.75;
                right: -32px;
                bottom: -24px;
                width: clamp(140px, 36vw, 180px);
              }
            }

            .cloud-sync-dialog {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 16px;
              min-width: 240px;
              padding: 24px 32px;
              border-radius: 16px;
              border: 1px solid rgba(120, 170, 255, 0.4);
              background: rgba(15, 26, 44, 0.92);
              box-shadow: 0 12px 32px rgba(0, 0, 0, 0.45);
              color: var(--color-text-primary);
              font-size: 15px;
            }

            .cloud-sync-spinner {
              width: 42px;
              height: 42px;
              border-radius: 50%;
              border: 4px solid rgba(120, 170, 255, 0.25);
              border-top-color: #6ab0ff;
              animation: cloud-sync-spin 0.9s linear infinite;
            }

            @keyframes cloud-sync-spin {
              from { transform: rotate(0deg); }
              to { transform: rotate(360deg); }
            }

            /* 화면 전환 애니메이션 */
            @keyframes fadeIn {
              from { opacity: 0; transform: translateY(10px); }
              to { opacity: 1; transform: translateY(0); }
            }
            @keyframes fadeOut {
              from { opacity: 1; transform: translateY(0); }
              to { opacity: 0; transform: translateY(-10px); }
            }
            @keyframes screenFadeOut {
              from { opacity: 0; }
              to { opacity: 1; }
            }
            @keyframes screenFadeIn {
              from { opacity: 1; }
              to { opacity: 0; }
            }
            @keyframes slideInRight {
              from { opacity: 0; transform: translateX(30px); }
              to { opacity: 1; transform: translateX(0); }
            }
            @keyframes slideInLeft {
              from { opacity: 0; transform: translateX(-30px); }
              to { opacity: 1; transform: translateX(0); }
            }
            
            /* 모든 화면에 기본 트랜지션 적용 */
            #menu, #deck-editor, #campaign, #reward, #shop, #card-gallery {
              animation: fadeIn 0.3s ease-out;
            }
            
            /* 옵션 패널 */
            #options-panel {
              position: fixed;
              bottom: var(--space-2xl);
              right: var(--space-2xl);
              background: var(--color-bg-panel);
              border: 2px solid var(--color-border-highlight);
              border-radius: var(--radius-xl);
              padding: var(--space-lg);
              color: var(--color-text-primary);
              font-family: var(--font-family-base);
              font-size: var(--font-size-base);
              z-index: 320;
              display: none;
              width: 280px;
              box-shadow: var(--shadow-glow);
            }
            #options-panel.active { display: block; }
            #options-panel header {
              display: flex;
              align-items: center;
              justify-content: space-between;
              margin-bottom: var(--space-sm);
              font-size: var(--font-size-lg);
              font-weight: var(--font-weight-bold);
            }
            #options-close {
              background: transparent;
              border: none;
              color: var(--color-text-primary);
              font-size: var(--font-size-xl);
              cursor: pointer;
            }
            #options-close:hover {
              color: var(--color-text-highlight);
            }
            #options-panel .volume-row {
              display: flex;
              align-items: center;
              gap: 8px;
              margin: 6px 0;
            }
            #options-panel .volume-label {
              width: 70px;
              font-size: var(--font-size-sm);
              color: var(--color-text-secondary);
            }
            #options-panel input[type="range"] {
              flex: 1;
              min-width: 100px;
            }
            #options-panel .volume-value {
              width: 36px;
              text-align: right;
              font-size: var(--font-size-sm);
              color: var(--color-text-highlight);
            }
            #options-panel .option-btn,
            #options-panel .mute-btn {
              width: 100%;
              padding: var(--space-sm);
              margin-top: var(--space-sm);
              background: var(--color-bg-button);
              border: 1px solid var(--color-border-highlight);
              border-radius: var(--radius-md);
              color: var(--color-text-primary);
              cursor: pointer;
              font-size: var(--font-size-sm);
              transition: var(--transition-base);
              display: flex;
              align-items: center;
              justify-content: center;
              gap: var(--space-xs);
            }
            #options-panel .option-btn:hover,
            #options-panel .mute-btn:hover {
              background: var(--color-bg-button-hover);
            }
            #options-panel .mute-btn.muted {
              background: var(--color-danger-dark);
            }
            #options-toggle {
              position: fixed;
              bottom: var(--space-2xl);
              right: var(--space-2xl);
              width: 48px;
              height: 48px;
              background: var(--color-bg-panel);
              border: 2px solid var(--color-border-highlight);
              border-radius: var(--radius-full);
              color: var(--color-text-primary);
              font-size: var(--space-2xl);
              cursor: pointer;
              z-index: 310;
              display: flex;
              align-items: center;
              justify-content: center;
              transition: var(--transition-base);
            }
            #options-toggle:hover {
              background: var(--color-bg-button-hover);
              box-shadow: var(--shadow-glow);
            }
            @media (max-width: 768px) {
              #options-toggle { bottom: 80px; right: var(--space-lg); width: 40px; height: 40px; font-size: var(--font-size-lg); }
              #options-panel { bottom: 80px; right: var(--space-lg); font-size: var(--font-size-sm); padding: var(--space-md); width: 240px; }
            }
            @media (max-width: 480px) {
              #options-toggle { bottom: var(--space-lg); right: var(--space-md); width: 36px; height: 36px; font-size: var(--font-size-base); }
              #options-panel { bottom: var(--space-lg); right: var(--space-md); font-size: var(--font-size-xs); padding: var(--space-sm); width: 220px; }
            }
            
            /* ==================== 유틸리티 클래스 ==================== */
            
            /* 타이포그래피 */
            .text-primary { color: var(--color-text-primary); }
            .text-secondary { color: var(--color-text-secondary); }
            .text-muted { color: var(--color-text-muted); }
            .text-highlight { color: var(--color-text-highlight); }
            .text-success { color: var(--color-success); }
            .text-danger { color: var(--color-danger); }
            .text-warning { color: var(--color-warning); }
            
            .font-display { font-family: var(--font-family-display); }
            .font-bold { font-weight: var(--font-weight-bold); }
            .font-medium { font-weight: var(--font-weight-medium); }
            
            .text-xs { font-size: var(--font-size-xs); }
            .text-sm { font-size: var(--font-size-sm); }
            .text-base { font-size: var(--font-size-base); }
            .text-lg { font-size: var(--font-size-lg); }
            .text-xl { font-size: var(--font-size-xl); }
            .text-2xl { font-size: var(--font-size-2xl); }
            .text-3xl { font-size: var(--font-size-3xl); }
            
            /* 버튼 스타일 */
            .btn {
              padding: var(--space-sm) var(--space-lg);
              border-radius: var(--radius-md);
              cursor: pointer;
              font-size: var(--font-size-base);
              transition: var(--transition-base);
              border: 1px solid var(--color-border);
            }
            
            .btn-primary {
              background: linear-gradient(135deg, var(--color-primary), var(--color-primary-dark));
              color: var(--color-text-primary);
              border: 2px solid var(--color-primary-light);
              box-shadow: var(--shadow-glow);
            }
            
            .btn-primary:hover {
              transform: translateY(-2px);
              box-shadow: var(--shadow-md), var(--shadow-glow);
            }
            
            .btn-secondary {
              background: var(--color-bg-button);
              color: var(--color-text-primary);
              border: 1px solid var(--color-border);
            }
            
            .btn-secondary:hover {
              background: var(--color-bg-button-hover);
            }
            
            /* 카드 희귀도 스타일 */
            .card-rarity-common {
              border-color: var(--color-rarity-common);
              box-shadow: 0 0 8px rgba(158, 158, 158, 0.3);
            }
            
            .card-rarity-uncommon {
              border-color: var(--color-rarity-uncommon);
              box-shadow: 0 0 12px rgba(76, 175, 80, 0.4);
            }
            
            .card-rarity-rare {
              border-color: var(--color-rarity-rare);
              box-shadow: 0 0 16px rgba(33, 150, 243, 0.5);
            }
            
            .card-rarity-epic {
              border-color: var(--color-rarity-epic);
              box-shadow: 0 0 20px rgba(156, 39, 176, 0.6);
              animation: pulse-epic 2s ease-in-out infinite;
            }
            
            .card-rarity-legendary {
              border-color: var(--color-rarity-legendary);
              box-shadow: 0 0 24px rgba(255, 152, 0, 0.7);
              animation: pulse-legendary 2s ease-in-out infinite;
            }
            
            @keyframes pulse-epic {
              0%, 100% { box-shadow: 0 0 20px rgba(156, 39, 176, 0.6); }
              50% { box-shadow: 0 0 28px rgba(156, 39, 176, 0.8); }
            }
            
            @keyframes pulse-legendary {
              0%, 100% { box-shadow: 0 0 24px rgba(255, 152, 0, 0.7); }
              50% { box-shadow: 0 0 32px rgba(255, 152, 0, 0.9), 0 0 48px rgba(255, 215, 0, 0.5); }
            }
            
            /* 상태 이펙트 뱃지 */
            .status-badge {
              display: inline-block;
              padding: 2px 6px;
              border-radius: var(--radius-sm);
              font-size: var(--font-size-xs);
              font-weight: var(--font-weight-medium);
              margin-right: var(--space-xs);
            }
            
            .status-defense {
              background: var(--color-status-defense);
              color: var(--color-text-primary);
            }
            
            .status-buff {
              background: var(--color-status-buff);
              color: var(--color-text-primary);
            }
            
            .status-debuff {
              background: var(--color-status-debuff);
              color: var(--color-text-primary);
            }
            
            /* 패널 스타일 */
            .panel {
              background: var(--color-bg-panel);
              border: 1px solid var(--color-border);
              border-radius: var(--radius-lg);
              padding: var(--space-lg);
            }
            
            .panel-header {
              font-size: var(--font-size-lg);
              font-weight: var(--font-weight-bold);
              margin-bottom: var(--space-md);
              color: var(--color-text-primary);
            }
            
            /* ==================== 로딩 & 피드백 UI ==================== */
            
            /* 로딩 화면 */
            #loading-screen {
              position: fixed;
              inset: 0;
              background: linear-gradient(135deg, var(--color-bg-dark), #1a2f4f);
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;
              z-index: var(--z-tooltip);
              animation: fadeIn 0.3s ease-out;
            }
            
            #loading-screen.hidden {
              display: none;
            }
            
            .loading-spinner {
              width: 60px;
              height: 60px;
              border: 4px solid rgba(74, 158, 255, 0.2);
              border-top: 4px solid var(--color-primary);
              border-radius: var(--radius-full);
              animation: spin 1s linear infinite;
            }
            
            @keyframes spin {
              0% { transform: rotate(0deg); }
              100% { transform: rotate(360deg); }
            }
            
            .loading-text {
              margin-top: var(--space-2xl);
              color: var(--color-text-primary);
              font-size: var(--font-size-xl);
              font-weight: var(--font-weight-medium);
            }
            
            .loading-progress {
              margin-top: var(--space-md);
              color: var(--color-text-secondary);
              font-size: var(--font-size-sm);
            }
            
            /* 토스트 알림 */
            #toast-container {
              position: fixed;
              top: var(--space-3xl);
              right: var(--space-3xl);
              z-index: calc(var(--z-tooltip) + 1);
              display: flex;
              flex-direction: column;
              gap: var(--space-md);
              pointer-events: none;
            }
            
            .toast {
              background: var(--color-bg-panel);
              border: 2px solid var(--color-border);
              border-radius: var(--radius-lg);
              padding: var(--space-lg);
              min-width: 300px;
              box-shadow: var(--shadow-lg);
              animation: slideInRight 0.3s ease-out;
              pointer-events: auto;
            }
            
            .toast.success {
              border-color: var(--color-success);
            }
            
            .toast.error {
              border-color: var(--color-danger);
            }
            
            .toast.warning {
              border-color: var(--color-warning);
            }
            
            .toast.info {
              border-color: var(--color-info);
            }
            
            .toast-header {
              display: flex;
              align-items: center;
              gap: var(--space-md);
              font-weight: var(--font-weight-bold);
              margin-bottom: var(--space-sm);
            }
            
            .toast-icon {
              font-size: var(--font-size-xl);
            }
            
            .toast-message {
              color: var(--color-text-secondary);
              font-size: var(--font-size-sm);
            }
            
            .toast-close {
              margin-left: auto;
              background: transparent;
              border: none;
              color: var(--color-text-secondary);
              cursor: pointer;
              font-size: var(--font-size-lg);
              padding: 0;
            }
            
            @keyframes slideInRight {
              from { transform: translateX(100px); opacity: 0; }
              to { transform: translateX(0); opacity: 1; }
            }
            
            /* 스켈레톤 로딩 */
            .skeleton {
              background: linear-gradient(90deg, 
                var(--color-bg-button) 25%, 
                var(--color-bg-button-hover) 50%, 
                var(--color-bg-button) 75%
              );
              background-size: 200% 100%;
              animation: skeleton-loading 1.5s ease-in-out infinite;
              border-radius: var(--radius-md);
            }
            
            @keyframes skeleton-loading {
              0% { background-position: 200% 0; }
              100% { background-position: -200% 0; }
            }
            
            .skeleton-card {
              width: 120px;
              height: 180px;
              border-radius: var(--radius-lg);
            }
            
            .skeleton-text {
              height: 1em;
              margin: var(--space-sm) 0;
            }
            
            .skeleton-title {
              height: 1.5em;
              width: 60%;
            }
            
            @media (max-width: 768px) {
              #toast-container {
                top: var(--space-xl);
                right: var(--space-lg);
                left: var(--space-lg);
              }
              
              .toast {
                min-width: auto;
              }
            }
            
            /* 모바일 대응 HUD */
            #hud { 
              position: fixed; 
              top: var(--space-lg); 
              right: var(--space-lg); 
              color: var(--color-text-primary); 
              font-family: var(--font-family-base); 
              font-size: var(--font-size-md);
            }
            @media (max-width: 768px) {
              #hud { font-size: var(--font-size-sm); top: var(--space-md); right: var(--space-md); }
            }
            /* 모바일 대응 Controls */
            #controls { 
              position: fixed; 
              top: 12px; 
              left: 12px; 
              display: flex; 
              gap: 8px; 
              flex-wrap: wrap;
              z-index: 100;
            }
            #controls button { 
              background: #20304d; 
              color: #fff; 
              border: 1px solid #3a4f75; 
              padding: 6px 10px; 
              border-radius: 6px; 
              cursor: pointer; 
              font-size: 14px;
              min-height: 32px;
            }
            @media (max-width: 768px) {
              #hud { font-size: var(--font-size-sm); top: var(--space-md); right: var(--space-md); }
              #controls { 
                top: 8px; 
                left: 8px; 
                right: 8px;
                gap: 4px;
                max-width: calc(100% - 16px);
              }
              #controls button { 
                padding: 6px 10px; 
                font-size: 11px; 
                min-height: 32px;
                white-space: nowrap;
              }
              /* 선언 정보 더 간결하게 */
              #controls > div {
                font-size: 10px;
                padding: 4px 8px !important;
              }
            }
            @media (max-width: 480px) {
              #hud { 
                font-size: var(--font-size-xs); 
                top: var(--space-sm); 
                right: var(--space-sm); 
              }
              #controls { 
                top: var(--space-xs); 
                left: var(--space-xs); 
                right: var(--space-xs);
                gap: 2px;
              }
              #controls button { 
                padding: var(--space-xs) var(--space-sm); 
                font-size: var(--font-size-xs); 
                min-height: 28px;
              }
              #controls > div {
                font-size: var(--font-size-xs);
                padding: var(--space-xs) var(--space-sm) !important;
              }
            }
            
            /* 모바일 대응 Hand */
            #hand { 
              position: fixed; 
              left: 12px; 
              bottom: 12px; 
              right: 12px; 
              color: #fff; 
              font-family: sans-serif; 
              display: flex; 
              gap: 8px; 
              flex-wrap: wrap; 
            }
            #hand button { 
              background: #20304d; 
              color: #fff; 
              border: 1px solid #3a4f75; 
              padding: 6px 10px; 
              border-radius: 6px; 
              cursor: pointer; 
            }
            #hand button:disabled { opacity: 0.5; cursor: default; }
            
            /* 카드 프리뷰 모달 */
            #card-preview {
              display: none;
              position: fixed;
              top: 0;
              left: 0;
              width: 100%;
              height: 100%;
              background: rgba(0, 0, 0, 0.85);
              z-index: 2000;
              justify-content: center;
              align-items: center;
              flex-direction: column;
              animation: fadeIn 0.2s ease;
            }
            #card-preview.active {
              display: flex;
              animation: fadeIn 0.2s ease-out;
            }
            #card-preview-content {
              background: linear-gradient(135deg, #1a2332, #2a3f5f);
              border-radius: 12px;
              padding: 20px;
              box-shadow: 0 8px 24px rgba(0, 0, 0, 0.5);
              max-width: 90%;
              max-height: 90%;
              text-align: center;
              border: 2px solid #4a9eff;
            }
            #card-preview-image {
              max-width: 280px;
              max-height: 420px;
              border-radius: 8px;
              margin-bottom: 16px;
              box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            }
            #card-preview-info {
              color: #fff;
              font-family: sans-serif;
            }
            #card-preview-name {
              font-size: 20px;
              font-weight: bold;
              margin-bottom: 8px;
              color: #4a9eff;
            }
            #card-preview-cost {
              font-size: 16px;
              margin-bottom: 8px;
              color: #ffd700;
            }
            #card-preview-effects {
              font-size: 14px;
              color: #aaa;
              margin-bottom: 12px;
              line-height: 1.5;
            }
            #card-preview-keywords {
              display: flex;
              gap: 6px;
              justify-content: center;
              flex-wrap: wrap;
            }
            #card-preview-close {
              position: absolute;
              top: 16px;
              right: 16px;
              background: rgba(255, 0, 0, 0.8);
              color: #fff;
              border: none;
              padding: 8px 16px;
              border-radius: 6px;
              cursor: pointer;
              font-size: 16px;
            }
            
            /* 화면 전환 오버레이 */
            #screen-transition-overlay {
              position: fixed;
              top: 0;
              left: 0;
              width: 100%;
              height: 100%;
              background: #000;
              z-index: 10000;
              opacity: 0;
              pointer-events: none;
              transition: opacity 0.3s ease-in-out;
            }
            #screen-transition-overlay.active {
              opacity: 1;
              pointer-events: all;
            }
            @media (max-width: 768px) {
              #card-preview-image {
                max-width: 240px;
                max-height: 360px;
              }
              #card-preview-name {
                font-size: 18px;
              }
              #card-preview-cost, #card-preview-effects {
                font-size: 13px;
              }
            }
            @media (max-width: 768px) {
              #hand { 
                left: 8px; 
                bottom: 8px; 
                right: 8px; 
                gap: 8px;
                overflow-x: auto;
                padding-bottom: 4px;
              }
              #hand::-webkit-scrollbar {
                height: 4px;
              }
              #hand::-webkit-scrollbar-thumb {
                background: rgba(74, 158, 255, 0.5);
                border-radius: 2px;
              }
            }
            body.mobile-landscape #controls {
              top: 8px;
              left: 8px;
              right: 8px;
              gap: 6px;
              justify-content: center;
              flex-wrap: wrap;
            }
            body.mobile-landscape #controls > div {
              font-size: 11px;
              padding: 4px 8px !important;
            }
            body.mobile-landscape #hud {
              top: 8px;
              right: 8px;
              bottom: auto;
              font-size: var(--font-size-sm);
            }
            body.mobile-landscape #hand {
              left: 12px;
              right: 12px;
              bottom: 10px;
              top: auto;
              gap: 6px;
              flex-wrap: nowrap;
              justify-content: center;
              overflow-x: auto;
              overflow-y: hidden;
              padding: 6px 10px;
              border-radius: 10px;
              background: rgba(15, 26, 44, 0.65);
              backdrop-filter: blur(6px);
            }
            body.mobile-landscape #hand button {
              flex: 0 0 auto;
              font-size: 12px;
              padding: 6px 12px;
              min-height: 30px;
            }
            body.mobile-landscape #hand::-webkit-scrollbar {
              height: 4px;
            }
            body.mobile-landscape #hand::-webkit-scrollbar-thumb {
              background: rgba(74, 158, 255, 0.5);
              border-radius: 2px;
            }
            
            /* 모바일 대응 Log */
            #log { 
              position: fixed; 
              left: 12px; 
              top: 60px; 
              width: 300px; 
              max-height: 400px; 
              background: rgba(0,0,0,0.7); 
              color: #fff; 
              font-family: monospace; 
              font-size: 12px; 
              padding: 8px; 
              border-radius: 6px; 
              overflow-y: auto; 
              border: 1px solid #3a4f75; 
              transition: transform 0.3s ease, opacity 0.3s ease;
            }
            /* 모바일에서는 로그를 기본 숨김 */
            @media (max-width: 768px) {
              #log { 
                width: 90%;
                max-width: 350px;
                max-height: 50vh;
                font-size: 11px; 
                padding: 8px;
                top: 50px;
                left: 50%;
                transform: translateX(-50%) translateY(-120%);
                opacity: 0;
                pointer-events: none;
                z-index: 1000;
                box-shadow: 0 4px 12px rgba(0,0,0,0.5);
              }
              #log.mobile-visible {
                transform: translateX(-50%) translateY(0);
                opacity: 1;
                pointer-events: auto;
              }
            }
            /* 로그 토글 버튼 (모바일 전용) */
            #log-toggle {
              display: none;
              position: fixed;
              top: 50px;
              right: 8px;
              background: rgba(74, 158, 255, 0.9);
              color: #fff;
              border: none;
              padding: 8px 12px;
              border-radius: 6px;
              cursor: pointer;
              font-size: 14px;
              z-index: 999;
              box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            }
            @media (max-width: 768px) {
              #log-toggle {
                display: block;
              }
            }
            /* 언어 토글 버튼 */
            #language-toggle {
              display: none;
              position: fixed;
              top: 12px;
              right: 12px;
              background: rgba(42, 63, 95, 0.9);
              color: var(--color-text-secondary);
              border: 1px solid var(--color-border);
              padding: 6px 12px;
              border-radius: 6px;
              cursor: pointer;
              font-size: 12px;
              z-index: 998;
              box-shadow: var(--shadow-sm);
              transition: all 0.2s;
            }
            #language-toggle:hover {
              background: rgba(58, 79, 117, 0.9);
              color: var(--color-text-primary);
            }
            #log .entry { margin: 4px 0; padding: 4px; border-left: 2px solid #3a4f75; padding-left: 8px; }
            #log .entry.card-play { border-color: #4a9eff; }
            #log .entry.effect { border-color: #4aff9e; }
            /* 상태 배지 스타일 */
            .status-badge { 
              display: inline-block; 
              padding: 2px 6px; 
              margin: 2px; 
              border-radius: 10px; 
              font-size: 11px; 
              font-weight: bold; 
              white-space: nowrap;
              box-shadow: 0 1px 3px rgba(0,0,0,0.3);
            }
            .status-badge sub { font-size: 9px; color: rgba(255,255,255,0.7); }
            .status-badge.status-buff { 
              background: linear-gradient(135deg, #4CAF50, #2E7D32); 
              color: #fff; 
              border: 1px solid #66BB6A;
            }
            .status-badge.status-debuff { 
              background: linear-gradient(135deg, #f44336, #c62828); 
              color: #fff; 
              border: 1px solid #ef5350;
            }
            .status-badge.status-defense { 
              background: linear-gradient(135deg, #2196F3, #1565C0); 
              color: #fff; 
              border: 1px solid #42A5F5;
            }
            /* 카드 툴팁 스타일 */
            #tooltip {
              position: fixed;
              background: linear-gradient(135deg, #1a2f4f, #0F1A2C);
              color: #fff;
              padding: 12px;
              border-radius: 8px;
              border: 2px solid #4a9eff;
              box-shadow: 0 4px 12px rgba(0,0,0,0.5);
              font-family: sans-serif;
              font-size: 13px;
              max-width: 300px;
              z-index: 1000;
              pointer-events: none;
            }
            #tooltip .tooltip-header {
              font-weight: bold;
              font-size: 15px;
              margin-bottom: 8px;
              border-bottom: 1px solid #3a4f75;
              padding-bottom: 4px;
              color: #4a9eff;
            }
            #tooltip .tooltip-cost {
              display: inline-block;
              background: #2a3f5f;
              padding: 2px 8px;
              border-radius: 12px;
              font-size: 12px;
              margin-right: 8px;
            }
            #tooltip .tooltip-type {
              display: inline-block;
              background: #3a4f75;
              padding: 2px 8px;
              border-radius: 12px;
              font-size: 11px;
              color: #aaa;
            }
            #tooltip .tooltip-effect {
              margin-top: 8px;
              padding: 6px;
              background: rgba(0,0,0,0.3);
              border-radius: 4px;
              color: #ddd;
              line-height: 1.4;
            }
            #tooltip .tooltip-keywords {
              margin-top: 8px;
              padding: 6px;
              background: rgba(74, 158, 255, 0.1);
              border-left: 3px solid #4a9eff;
              border-radius: 4px;
              font-size: 11px;
              color: #bbb;
            }
            #tooltip .tooltip-keywords strong {
              color: #4a9eff;
            }
            /* 애니메이션 효과 */
            @keyframes pulse {
              0%, 100% {
                box-shadow: 0 0 10px rgba(74, 158, 255, 0.3);
              }
              50% {
                box-shadow: 0 0 20px rgba(74, 158, 255, 0.8);
              }
            }
            /* 인트로 화면 스타일 */
            #intro {
              position: fixed;
              inset: 0;
              display: none;
              flex-direction: column;
              align-items: center;
              justify-content: flex-end;
              padding: clamp(48px, 11vh, 128px);
              background: #0F1A2C;
              z-index: 1000;
              cursor: pointer;
              overflow: hidden;
            }
            #intro.active { display: flex; }
            #intro.title-mode {
              align-items: center;
              justify-content: center;
              padding: 0;
            }
            #intro.finale-mode {
              align-items: center;
              justify-content: center;
            }
            #intro-card-layer {
              position: absolute;
              inset: 0;
              pointer-events: none;
              overflow: hidden;
              z-index: 1;
            }
            .intro-card {
              position: absolute;
              width: clamp(160px, 22vw, 240px);
              aspect-ratio: 3 / 4.25;
              transform: translate(-50%, -50%) scale(calc(var(--card-scale, 1) * 0.85)) rotate(var(--card-rotation, 0deg));
              background-size: cover;
              background-position: center;
              border-radius: 18px;
              box-shadow: 0 22px 52px rgba(8, 12, 24, 0.55);
              opacity: 0;
              transition: opacity 0.7s ease, transform 0.7s ease;
              transition-delay: var(--card-delay, 0ms);
              filter: saturate(1.05);
              overflow: visible;
              z-index: 1;
            }
            .intro-card::before {
              content: '';
              position: absolute;
              inset: -18px;
              border-radius: inherit;
              background: radial-gradient(circle, rgba(255, 255, 255, 0.35) 0%, rgba(255, 255, 255, 0) 70%);
              opacity: 0;
              transition: opacity 0.8s ease;
              z-index: -1;
            }
            .intro-card.show {
              opacity: 1;
              transform: translate(-50%, -50%) scale(var(--card-scale, 1)) rotate(var(--card-rotation, 0deg));
              animation: introCardFloat 6s ease-in-out infinite;
              animation-delay: calc(var(--float-delay, 0s) + 0.7s);
            }
            .intro-card.show::before {
              opacity: 1;
            }
            .intro-card.glow-violet::before {
              background: radial-gradient(circle, rgba(138, 92, 255, 0.45) 0%, rgba(138, 92, 255, 0) 72%);
            }
            .intro-card.glow-amber::before {
              background: radial-gradient(circle, rgba(255, 185, 92, 0.5) 0%, rgba(255, 185, 92, 0) 72%);
            }
            .intro-card.glow-cyan::before {
              background: radial-gradient(circle, rgba(90, 224, 255, 0.45) 0%, rgba(90, 224, 255, 0) 72%);
            }
            @keyframes introCardFloat {
              0%, 100% {
                transform: translate(-50%, -50%) translateY(-4px) scale(var(--card-scale, 1)) rotate(var(--card-rotation, 0deg));
              }
              50% {
                transform: translate(-50%, -50%) translateY(8px) scale(calc(var(--card-scale, 1) * 1.02)) rotate(calc(var(--card-rotation, 0deg) + 1deg));
              }
            }
            #intro-page {
              position: relative;
              z-index: 2;
              max-width: min(820px, 90vw);
              width: 100%;
              padding: clamp(24px, 4vw, 36px);
              text-align: center;
              background: linear-gradient(140deg, rgba(4, 9, 20, 0.88) 0%, rgba(7, 14, 26, 0.72) 55%, rgba(9, 16, 32, 0.65) 100%);
              border: 1px solid rgba(255, 255, 255, 0.08);
              border-radius: 24px;
              box-shadow: 0 24px 60px rgba(0, 0, 0, 0.55);
              backdrop-filter: blur(14px);
              opacity: 0;
              transform: translateY(40px);
              transition: opacity 0.7s ease, transform 0.7s ease;
              margin-bottom: clamp(56px, 17vh, 180px);
            }
            #intro-page::before {
              content: '';
              position: absolute;
              inset: 12px;
              border-radius: 18px;
              border: 1px solid rgba(255, 255, 255, 0.05);
              opacity: 0.6;
              pointer-events: none;
            }
            #intro-page.active {
              opacity: 1;
              transform: translateY(0);
            }
            #intro-text {
              font-family: 'Noto Serif KR', serif;
              font-size: clamp(18px, 2vw, 22px);
              line-height: 1.9;
              color: rgba(247, 248, 255, 0.92);
              margin: 0;
              text-shadow: 0 16px 48px rgba(4, 6, 14, 0.85);
            }
            #intro-title {
              font-family: 'Nanum Myeongjo', serif;
              font-size: 56px;
              font-weight: 800;
              color: var(--color-text-primary);
              text-shadow: var(--shadow-lg);
              letter-spacing: -1px;
              line-height: 1.3;
              opacity: 0;
              transform: scale(0.8);
              animation: titleIntro 2s ease forwards;
              padding: var(--space-2xl) var(--space-xl);
              background: rgba(0, 0, 0, 0.7);
              border-radius: var(--radius-xl);
              backdrop-filter: blur(15px);
            }
            #intro-title::before {
              content: '⚔️';
              display: block;
              font-size: 80px;
              margin-bottom: var(--space-lg);
              animation: swordSpin 1.5s ease;
            }
            @keyframes swordSpin {
              0% { transform: rotate(0deg) scale(0.5); opacity: 0; }
              50% { transform: rotate(360deg) scale(1.2); }
              100% { transform: rotate(360deg) scale(1); opacity: 1; }
            }
            @keyframes titleIntro {
              0% { opacity: 0; transform: scale(0.8); }
              100% { opacity: 1; transform: scale(1); }
            }
            #intro-click-hint {
              position: absolute;
              bottom: var(--space-2xl);
              left: 50%;
              transform: translateX(-50%);
              font-family: 'Noto Serif KR', serif;
              font-size: 14px;
              color: var(--color-text-muted);
              opacity: 0;
              animation: blinkHint 1.5s ease-in-out infinite;
              animation-delay: 3s;
            }
            #intro-finale-layer {
              position: absolute;
              inset: 0;
              pointer-events: none;
              overflow: hidden;
              z-index: 3;
            }
            .intro-stack-card {
              position: absolute;
              left: 50%;
              top: 50%;
              width: clamp(140px, 19vw, 200px);
              aspect-ratio: 3 / 4.25;
              transform: translate(-50%, -50%) scale(0.4) rotate(var(--stack-rotation, 0deg));
              opacity: 0;
              filter: drop-shadow(0 20px 46px rgba(6, 10, 20, 0.6));
              transition: opacity 0.38s ease, transform 0.45s cubic-bezier(0.21, 0.74, 0.27, 1);
              transition-delay: var(--stack-delay, 0ms);
              z-index: var(--stack-z, 5);
            }
            .intro-stack-card.show {
              opacity: 1;
              transform: translate(calc(-50% + var(--stack-offset-x, 0px)), calc(-50% + var(--stack-offset-y, 0px))) scale(var(--stack-scale, 1)) rotate(var(--stack-rotation, 0deg));
            }
            #intro-flash {
              position: absolute;
              inset: 0;
              pointer-events: none;
              background: rgba(255, 255, 255, 1);
              opacity: 0;
              transition: opacity 0.45s ease;
              z-index: 5;
            }
            #intro-flash.active {
              opacity: 1;
            }
            @keyframes blinkHint {
              0%, 100% { opacity: 0; }
              50% { opacity: 1; }
            }
            @media (max-width: 768px) {
              #intro {
                padding: clamp(32px, 10vh, 96px);
              }
              #intro-card-layer {
                backdrop-filter: blur(2px);
              }
              #intro-page {
                margin-bottom: clamp(40px, 18vh, 120px);
                padding: clamp(20px, 6vw, 28px);
              }
              #intro-title {
                font-size: 40px;
                padding: var(--space-xl) var(--space-lg);
              }
              #intro-title::before {
                font-size: 60px;
              }
              .intro-card {
                width: clamp(140px, 46vw, 210px);
              }
              .intro-stack-card {
                width: clamp(120px, 42vw, 180px);
              }
            }
            @media (max-width: 480px) {
              #intro-page {
                margin-bottom: clamp(32px, 20vh, 92px);
                padding: var(--space-lg);
              }
              #intro-text {
                font-size: 16px;
                line-height: 1.8;
              }
              #intro-title {
                font-size: 32px;
                padding: var(--space-lg) var(--space-md);
              }
              #intro-title::before {
                font-size: 50px;
              }
              .intro-card {
                width: clamp(130px, 56vw, 190px);
              }
              .intro-stack-card {
                width: clamp(110px, 52vw, 170px);
              }
            }
            
            /* 메인 메뉴 스타일 */
            #menu {
              position: fixed;
              inset: 0;
              display: none;
              align-items: center;
              justify-content: center;
              padding: clamp(32px, 6vw, 84px);
              padding-top: clamp(110px, 18vh, 240px);
              padding-bottom: clamp(56px, 12vh, 160px);
              background: radial-gradient(circle at 20% 20%, rgba(64, 110, 210, 0.35), transparent 55%),
                radial-gradient(circle at 80% 30%, rgba(125, 80, 220, 0.28), transparent 60%),
                linear-gradient(135deg, #0b1526, #111c32 40%, #1a2642);
              overflow-y: auto;
              z-index: 180;
              min-height: 100vh;
              box-sizing: border-box;
            }
            #menu::before {
              content: '';
              position: absolute;
              inset: 0;
              background: url('backgrounds/menu_main.webp') center/cover no-repeat;
              mix-blend-mode: screen;
              opacity: 0.18;
              filter: blur(4px);
              z-index: -2;
            }
            #menu::after {
              content: '';
              position: absolute;
              inset: 0;
              background: linear-gradient(180deg, rgba(12, 18, 32, 0.65), rgba(8, 12, 24, 0.8));
              z-index: -1;
            }
            #menu.active {
              display: flex;
            }
            #menu-user-info {
              position: absolute;
              top: clamp(32px, 8vh, 60px);
              left: clamp(32px, 6vw, 88px);
              display: flex;
              flex-direction: column;
              gap: 8px;
              padding: 18px 22px;
              background: rgba(7, 12, 28, 0.78);
              border-radius: 18px;
              border: 1px solid rgba(255, 255, 255, 0.12);
              box-shadow: 0 20px 48px rgba(4, 8, 16, 0.45);
              backdrop-filter: blur(14px);
              opacity: 0;
              transform: translateY(-12px);
              transition: opacity 0.3s ease, transform 0.3s ease;
              color: #f3f5ff;
              z-index: 220;
              pointer-events: none;
            }
            #menu-user-info.visible {
              opacity: 1;
              transform: translateY(0);
            }
            #menu-user-nickname {
              font-family: 'Nanum Myeongjo', serif;
              font-size: clamp(18px, 2vw, 22px);
              font-weight: 700;
              letter-spacing: -0.4px;
              color: #ffffff;
            }
            .menu-user-line {
              font-family: 'Noto Serif KR', serif;
              font-size: clamp(14px, 1.6vw, 16px);
              color: rgba(235, 238, 255, 0.82);
              display: flex;
              gap: 6px;
              align-items: center;
              white-space: nowrap;
            }
            @media (max-width: 768px) {
              #menu-user-info {
                top: clamp(20px, 7vh, 44px);
                left: clamp(18px, 7vw, 48px);
                padding: 14px 18px;
                gap: 6px;
              }
              #menu-user-nickname {
                font-size: 18px;
              }
              .menu-user-line {
                font-size: 14px;
              }
            }
            @media (max-width: 480px) {
              #menu-user-info {
                top: clamp(16px, 8vh, 36px);
                left: clamp(14px, 6vw, 28px);
                padding: 12px 16px;
              }
              #menu-user-nickname {
                font-size: 16px;
              }
              .menu-user-line {
                font-size: 13px;
              }
            }
            .menu-wrapper {
              position: relative;
              display: flex;
              gap: clamp(32px, 6vw, 96px);
              width: min(1100px, 92vw);
              align-items: center;
              justify-content: center;
            }
            .menu-hero {
              flex: 1;
              display: flex;
              justify-content: center;
              position: relative;
              padding-top: clamp(24px, 6vh, 72px);
            }
            .menu-hero::after {
              content: '';
              position: absolute;
              width: clamp(220px, 28vw, 320px);
              height: clamp(220px, 28vw, 320px);
              border-radius: 50%;
              background: radial-gradient(circle, rgba(118, 171, 255, 0.35), transparent 70%);
              filter: blur(20px);
              transform: translate(16%, -18%);
              z-index: -3;
              opacity: 0.8;
            }
            .hero-device {
              position: relative;
              width: clamp(240px, 30vw, 360px);
              aspect-ratio: 9 / 16;
              border-radius: 36px;
              padding: clamp(10px, 2vw, 18px);
              background: linear-gradient(160deg, rgba(160, 185, 255, 0.4), rgba(33, 46, 86, 0.85));
              box-shadow: 0 20px 45px rgba(10, 16, 32, 0.6), inset 0 0 0 1px rgba(180, 205, 255, 0.35);
              backdrop-filter: blur(4px);
              display: flex;
              align-items: center;
              justify-content: center;
            }
            .hero-device::before,
            .hero-device::after {
              content: '';
              position: absolute;
              left: 50%;
              transform: translateX(-50%);
              border-radius: 999px;
              background: linear-gradient(90deg, rgba(220, 233, 255, 0.7), rgba(120, 160, 255, 0.25));
            }
            .hero-device::before {
              top: clamp(6px, 1.4vw, 10px);
              width: 38%;
              height: clamp(8px, 1.6vw, 12px);
            }
            .hero-device::after {
              bottom: clamp(8px, 1.8vw, 14px);
              width: 24%;
              height: clamp(6px, 1.2vw, 10px);
            }
            .hero-device-screen {
              position: relative;
              width: 92%;
              height: 92%;
              border-radius: 28px;
              overflow: hidden;
              background: linear-gradient(180deg, #121f36 0%, #10192b 60%, #0b1424 100%);
              box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.05);
              display: flex;
              align-items: center;
              justify-content: center;
            }
            .hero-screen-overlay {
              position: absolute;
              inset: 0;
              background: linear-gradient(180deg, rgba(120, 180, 255, 0.16), transparent 35%, rgba(30, 45, 90, 0.55));
              pointer-events: none;
            }
            .hero-character {
              position: absolute;
              inset: 0;
              width: 100%;
              height: 100%;
              object-fit: cover;
              object-position: center;
              pointer-events: none;
              user-select: none;
              filter: drop-shadow(0 16px 24px rgba(10, 14, 26, 0.55));
            }
            .hero-character {
              opacity: 0.9;
              z-index: 2;
              mix-blend-mode: screen;
            }
            .hero-star {
              position: absolute;
              top: clamp(-18px, -2vw, -28px);
              right: clamp(18px, 3vw, 40px);
              width: clamp(28px, 4vw, 48px);
              height: clamp(28px, 4vw, 48px);
              background: radial-gradient(circle, rgba(255, 255, 255, 0.92), rgba(130, 180, 255, 0.65), rgba(0, 0, 0, 0));
              border-radius: 50%;
              filter: blur(0.6px);
              box-shadow: 0 0 22px rgba(173, 209, 255, 0.8);
              animation: pulseGlow 3s ease-in-out infinite;
            }
            @keyframes pulseGlow {
              0%, 100% { transform: scale(1); opacity: 0.85; }
              50% { transform: scale(1.1); opacity: 1; }
            }
            .menu-panel {
              flex: 1;
              display: flex;
              flex-direction: column;
              gap: clamp(20px, 3vw, 32px);
              padding: clamp(24px, 4vw, 36px);
              margin-top: clamp(24px, 6vh, 64px);
              background: rgba(14, 24, 42, 0.72);
              border-radius: 28px;
              border: 1px solid rgba(140, 170, 255, 0.28);
              box-shadow: 0 18px 40px rgba(6, 10, 20, 0.55);
              backdrop-filter: blur(12px);
              position: relative;
              overflow: hidden;
            }
            .menu-panel::before {
              content: '';
              position: absolute;
              inset: 0;
              background: radial-gradient(circle at 75% 0%, rgba(120, 180, 255, 0.25), transparent 55%);
              pointer-events: none;
            }
            .menu-panel::after {
              content: '';
              position: absolute;
              top: 0;
              left: 50%;
              width: clamp(220px, 32vw, 320px);
              height: clamp(140px, 22vh, 200px);
              transform: translate(-50%, -60%);
              background: radial-gradient(circle, rgba(160, 205, 255, 0.35), rgba(110, 160, 255, 0.15), transparent 70%);
              filter: blur(40px);
              pointer-events: none;
              z-index: -1;
            }
            .menu-logo {
              display: flex;
              flex-direction: column;
              gap: clamp(6px, 1vw, 10px);
            }
            .menu-logo .logo-sub {
              font-family: 'Nanum Myeongjo', serif;
              letter-spacing: 0.18em;
              font-size: clamp(12px, 1.2vw, 14px);
              color: rgba(200, 215, 255, 0.8);
              text-transform: uppercase;
            }
            .menu-logo .logo-main {
              font-family: 'Black Han Sans', sans-serif;
              font-size: clamp(32px, 4vw, 46px);
              letter-spacing: 0.04em;
              color: transparent;
              background: linear-gradient(90deg, #a2d1ff 0%, #f4aaff 55%, #ffe7b2 100%);
              -webkit-background-clip: text;
              background-clip: text;
              text-shadow: 0 8px 20px rgba(84, 142, 255, 0.35);
              line-height: 1.08;
              word-break: keep-all;
              text-align: left;
            }
            .menu-tagline {
              margin: 0;
              font-size: clamp(16px, 1.6vw, 18px);
              color: rgba(210, 221, 255, 0.88);
              font-weight: 500;
              line-height: 1.5;
              text-shadow: 0 6px 16px rgba(10, 18, 36, 0.45);
            }
            .menu-tagline strong {
              color: #9ecbff;
              font-weight: 700;
            }
            .menu-buttons {
              display: flex;
              flex-direction: column;
              gap: clamp(12px, 1.4vw, 18px);
              position: relative;
            }
            .menu-buttons::before {
              content: '';
              position: absolute;
              top: clamp(-16px, -2vw, -12px);
              left: 50%;
              transform: translateX(-50%);
              width: clamp(200px, 36vw, 320px);
              height: clamp(120px, 18vh, 180px);
              background: radial-gradient(circle, rgba(110, 160, 255, 0.18), transparent 70%);
              filter: blur(40px);
              z-index: -1;
            }
            #menu .menu-btn {
              position: relative;
              display: flex;
              align-items: center;
              justify-content: space-between;
              gap: 18px;
              width: 100%;
              padding: clamp(16px, 1.8vw, 20px) clamp(22px, 3vw, 28px);
              background: linear-gradient(135deg, rgba(58, 94, 170, 0.45), rgba(34, 48, 92, 0.9));
              border: 1px solid rgba(120, 160, 255, 0.45);
              border-radius: 16px;
              cursor: pointer;
              color: #eaf1ff;
              box-shadow: 0 12px 24px rgba(10, 16, 36, 0.45);
              transition: transform var(--transition-base), box-shadow var(--transition-base), border-color var(--transition-base), background var(--transition-base);
              touch-action: manipulation;
              text-align: left;
              overflow: hidden;
              isolation: isolate;
              --menu-btn-portrait: none;
            }
            #menu .menu-btn::before,
            #menu .menu-btn::after {
              content: '';
              position: absolute;
              inset: 0;
              pointer-events: none;
              transition: opacity var(--transition-base), transform var(--transition-base);
            }
            #menu .menu-btn::before {
              background: linear-gradient(90deg, rgba(10, 18, 36, 0.05) 0%, rgba(10, 18, 36, 0.35) 45%, rgba(10, 18, 36, 0.7) 100%);
              opacity: 1;
              z-index: 0;
            }
            #menu .menu-btn::after {
              right: -6%;
              left: auto;
              width: 58%;
              background-image: var(--menu-btn-portrait);
              background-repeat: no-repeat;
              background-size: contain;
              background-position: right center;
              opacity: 0.55;
              z-index: 0;
              filter: saturate(1.1);
            }
            #menu .menu-btn:hover:not(:disabled) {
              transform: translateY(-4px);
              background: linear-gradient(135deg, rgba(110, 160, 255, 0.55), rgba(60, 80, 150, 0.9));
              border-color: rgba(170, 200, 255, 0.85);
              box-shadow: 0 16px 32px rgba(24, 42, 88, 0.55);
            }
            #menu .menu-btn:hover:not(:disabled)::after {
              opacity: 0.7;
              transform: translateX(-1%);
            }
            #menu .menu-btn:disabled {
              opacity: 0.55;
              cursor: not-allowed;
              box-shadow: none;
            }
            #menu .menu-btn:disabled::after {
              opacity: 0.3;
              filter: grayscale(0.3);
            }
            .menu-btn-content {
              display: flex;
              flex-direction: column;
              gap: 6px;
              position: relative;
              z-index: 1;
            }
            .menu-btn-icon {
              font-size: clamp(20px, 2.4vw, 26px);
              line-height: 1;
            }
            .menu-btn-title {
              font-size: clamp(17px, 1.7vw, 20px);
              font-weight: 700;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .menu-btn-desc {
              font-size: clamp(12px, 1.2vw, 14px);
              color: rgba(210, 221, 255, 0.72);
              font-weight: 500;
            }
            .menu-btn-disabled {
              font-size: clamp(11px, 1vw, 12px);
              color: rgba(160, 172, 210, 0.6);
            }
            .menu-btn-chevron {
              font-size: clamp(16px, 1.6vw, 20px);
              color: rgba(210, 230, 255, 0.65);
              transition: transform var(--transition-base);
              position: relative;
              z-index: 1;
            }
            #menu .menu-btn:hover:not(:disabled) .menu-btn-chevron {
              transform: translateX(4px);
              color: rgba(255, 255, 255, 0.9);
            }
            .menu-footer {
              display: flex;
              justify-content: space-between;
              align-items: center;
              gap: 16px;
              font-size: clamp(11px, 1vw, 13px);
              color: rgba(180, 200, 235, 0.7);
              padding-top: clamp(8px, 1.2vw, 14px);
              border-top: 1px solid rgba(120, 150, 210, 0.24);
            }
            .menu-footer span {
              display: inline-flex;
              align-items: center;
              gap: 6px;
            }
            @media (max-width: 960px) {
              .menu-wrapper {
                flex-direction: column;
                width: min(640px, 100%);
              }
              .menu-hero::after {
                transform: translate(0, -20%);
              }
              .menu-panel {
                width: 100%;
              }
              .menu-hero {
                padding-top: clamp(10px, 4vh, 36px);
              }
            }
            @media (max-width: 540px) {
              #menu {
                padding: clamp(22px, 6vw, 36px);
                padding-top: clamp(66px, 16vh, 92px);
                background: linear-gradient(160deg, #0d1729, #142035 45%, #0f182a 100%);
              }
              #menu::before {
                background:
                  radial-gradient(circle at 30% 10%, rgba(118, 171, 255, 0.22), transparent 60%),
                  radial-gradient(circle at 80% 80%, rgba(250, 193, 255, 0.18), transparent 65%),
                  url('characters/seraphina_belmont.png') center 35% / cover no-repeat;
                opacity: 0.22;
                filter: blur(12px);
                mix-blend-mode: normal;
              }
              #menu::after {
                background: linear-gradient(180deg, rgba(12, 18, 32, 0.78), rgba(8, 12, 24, 0.92));
              }
              .menu-hero {
                display: none;
              }
              .menu-panel {
                padding: clamp(20px, 5vw, 28px);
                gap: clamp(16px, 4vw, 28px);
                border-radius: 22px;
                margin-top: clamp(18px, 8vh, 44px);
              }
              .menu-buttons {
                gap: clamp(10px, 4vw, 18px);
              }
              #menu .menu-btn {
                padding: clamp(14px, 4vw, 20px) clamp(18px, 6vw, 26px);
              }
              #menu .menu-btn::after {
                width: 68%;
                opacity: 0.45;
              }
              .menu-tagline {
                text-align: left;
                font-size: clamp(15px, 3.8vw, 17px);
              }
            }
            /* 덱 편집 화면 스타일 */
            #deck-editor {
              position: fixed;
              inset: 0;
              display: none;
              background: linear-gradient(135deg, #0F1A2C, #1a2f4f);
              overflow-y: auto;
              z-index: 100;
              color: #fff;
              font-family: sans-serif;
            }
            #deck-editor.active { display: block; }
            #deck-editor::before {
              content: '';
              position: fixed;
              inset: 0;
              background-image: url('backgrounds/deck_editor.webp');
              background-size: cover;
              background-position: center;
              opacity: 0.3;
              z-index: -1;
            }
            #deck-editor .header {
              padding: 20px;
              background: rgba(0,0,0,0.3);
              border-bottom: 2px solid #3a4f75;
              display: flex;
              justify-content: space-between;
              align-items: center;
            }
            #deck-editor .header h2 {
              margin: 0;
              font-size: 28px;
            }
            #deck-editor .deck-info {
              display: flex;
              gap: 20px;
              font-size: 14px;
            }
            #deck-editor .deck-info .info-item {
              background: rgba(0,0,0,0.3);
              padding: 8px 16px;
              border-radius: 8px;
              border: 1px solid #3a4f75;
            }
            #deck-editor .deck-info .info-item.valid {
              border-color: #4CAF50;
            }
            #deck-editor .deck-info .info-item.invalid {
              border-color: #f44336;
            }
            #deck-editor .content {
              display: grid;
              grid-template-columns: 1fr 400px;
              gap: 20px;
              padding: 20px;
              min-height: calc(100vh - 100px);
            }
            @media (max-width: 1024px) {
              #deck-editor .content {
                grid-template-columns: 1fr;
              }
            }
            #deck-editor .collection {
              background: rgba(0,0,0,0.3);
              border-radius: 12px;
              padding: 20px;
              border: 2px solid #3a4f75;
            }
            #deck-editor .current-deck {
              background: rgba(74, 158, 255, 0.1);
              border-radius: 12px;
              padding: 20px;
              border: 2px solid #4a9eff;
            }
            #deck-editor .card-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
          gap: 16px;
          margin-top: 16px;
          max-height: 70vh;
          overflow-y: auto;
          padding: 4px;
            }
            #deck-editor .card-grid::-webkit-scrollbar {
          width: 8px;
            }
            #deck-editor .card-grid::-webkit-scrollbar-track {
          background: rgba(0,0,0,0.3);
          border-radius: 4px;
            }
            #deck-editor .card-grid::-webkit-scrollbar-thumb {
          background: #4a9eff;
          border-radius: 4px;
          }
          #deck-editor .deck-card-list {
          display: flex;
          flex-direction: column;
          gap: 8px;
          margin-top: 16px;
          max-height: 600px;
          overflow-y: auto;
          }
          #deck-editor .deck-card-list::-webkit-scrollbar {
          width: 8px;
          }
          #deck-editor .deck-card-list::-webkit-scrollbar-track {
          background: rgba(0,0,0,0.3);
          border-radius: 4px;
          }
          #deck-editor .deck-card-list::-webkit-scrollbar-thumb {
          background: #f44336;
          border-radius: 4px;
          }
          @media (max-width: 768px) {
          #deck-editor .card-grid {
            display: flex;
            gap: 12px;
            overflow-x: auto;
            overflow-y: hidden;
            padding: 8px 0 12px;
            scroll-snap-type: x proximity;
          }
          #deck-editor .card-grid::-webkit-scrollbar {
            height: 14px;
          }
          #deck-editor .card-grid::-webkit-scrollbar-thumb {
            background: linear-gradient(90deg, #4a9eff, #1565C0);
            border-radius: 8px;
          }
          #deck-editor .deck-card-list {
            display: flex;
            flex-direction: row;
            gap: 12px;
            overflow-x: auto;
            overflow-y: hidden;
            padding-bottom: 12px;
          }
          #deck-editor .deck-card-list::-webkit-scrollbar {
            height: 14px;
          }
          #deck-editor .deck-card-list::-webkit-scrollbar-thumb {
            background: linear-gradient(90deg, #f44336, #d32f2f);
            border-radius: 8px;
          }
            }
            /* 카드도감 화면 스타일 */
            #card-gallery {
              position: fixed;
              inset: 0;
              display: none;
              background: linear-gradient(135deg, #0F1A2C, #1a2f4f);
              overflow-y: auto;
              z-index: 100;
              color: #fff;
              font-family: sans-serif;
            }
            #card-gallery.active { display: block; }
            #card-gallery::before {
              content: '';
              position: fixed;
              inset: 0;
              background-image: url('backgrounds/deck_editor.webp');
              background-size: cover;
              background-position: center;
              opacity: 0.3;
              z-index: -1;
            }
            #card-gallery .header {
              padding: 20px;
              background: rgba(0,0,0,0.3);
              border-bottom: 2px solid #3a4f75;
              display: flex;
              justify-content: space-between;
              align-items: center;
            }
            #card-gallery .header h2 {
              margin: 0;
              font-size: 28px;
            }
            #card-gallery .content {
              padding: 20px;
            }
            #card-gallery .gallery-info {
              background: rgba(0,0,0,0.3);
              border-radius: 12px;
              padding: 16px;
              margin-bottom: 20px;
              border: 2px solid #3a4f75;
            }
            #card-gallery .card-grid {
              display: grid;
              grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
              gap: 16px;
              padding: 4px;
            }
            #card-gallery .card-grid::-webkit-scrollbar {
              width: 8px;
            }
            #card-gallery .card-grid::-webkit-scrollbar-track {
              background: rgba(0,0,0,0.3);
              border-radius: 4px;
            }
            #card-gallery .card-grid::-webkit-scrollbar-thumb {
              background: #4a9eff;
              border-radius: 4px;
            }
            #card-gallery .gallery-card {
              position: relative;
              cursor: pointer;
              transition: transform 0.2s;
            }
            #card-gallery .gallery-card:hover {
              transform: translateY(-4px);
            }
            #card-gallery .gallery-card img {
              width: 100%;
              height: auto;
              border-radius: 8px;
              box-shadow: 0 4px 8px rgba(0,0,0,0.3);
              transition: box-shadow 0.2s;
            }
            #card-gallery .gallery-card:hover img {
              box-shadow: 0 8px 16px rgba(74, 158, 255, 0.4);
            }
            #deck-editor .card-item {
              background: linear-gradient(135deg, #2a3f5f, #1a2f4f);
              border: 2px solid #3a4f75;
              border-radius: 8px;
              padding: 12px;
              cursor: pointer;
              transition: all 0.2s;
              position: relative;
            }
            #deck-editor .card-item:hover {
              border-color: #4a9eff;
              transform: translateY(-2px);
            }
            #deck-editor .card-item.in-deck {
              opacity: 0.6;
            }
            #deck-editor .card-item .card-name {
              font-weight: bold;
              font-size: 14px;
              margin-bottom: 4px;
            }
            #deck-editor .card-item .card-meta {
              font-size: 11px;
              color: #aaa;
              display: flex;
              justify-content: space-between;
            }
            #deck-editor .card-item .card-count {
              position: absolute;
              top: 8px;
              right: 8px;
              background: #4a9eff;
              color: #fff;
              width: 24px;
              height: 24px;
              border-radius: 50%;
              display: flex;
              align-items: center;
              justify-content: center;
              font-size: 12px;
              font-weight: bold;
            }
            #deck-editor .deck-list-item {
              background: rgba(0,0,0,0.3);
              border: 1px solid #3a4f75;
              border-radius: 6px;
              padding: 8px 12px;
              display: flex;
              justify-content: space-between;
              align-items: center;
              font-size: 13px;
            }
            #deck-editor .deck-list-item .remove-btn {
              background: #f44336;
              color: #fff;
              border: none;
              border-radius: 4px;
              padding: 4px 8px;
              cursor: pointer;
              font-size: 11px;
            }
            #deck-editor .deck-list-item .remove-btn:hover {
              background: #d32f2f;
            }
            #deck-editor .cost-chart {
              margin-top: 16px;
              padding: 12px;
              background: rgba(0,0,0,0.3);
              border-radius: 8px;
            }
            #deck-editor .cost-bar {
              display: flex;
              align-items: center;
              margin: 8px 0;
              gap: 8px;
            }
            #deck-editor .cost-bar .label {
              width: 60px;
              font-size: 12px;
            }
            #deck-editor .cost-bar .bar {
              flex: 1;
              height: 20px;
              background: #2a3f5f;
              border-radius: 4px;
              overflow: hidden;
            }
            #deck-editor .cost-bar .bar-fill {
              height: 100%;
              background: linear-gradient(90deg, #4a9eff, #66BB6A);
              transition: width 0.3s;
            }
            #deck-editor .cost-bar .count {
              width: 30px;
              text-align: right;
              font-size: 12px;
              color: #aaa;
            }
            /* 캠페인 화면 스타일 */
            #campaign {
              position: fixed;
              inset: 0;
              display: none;
              background: linear-gradient(135deg, #0F1A2C, #1a2f4f);
              overflow-y: auto;
              z-index: 100;
              color: #fff;
              font-family: sans-serif;
            }
            #campaign.active { display: block; }
            #campaign::before {
              content: '';
              position: fixed;
              inset: 0;
              background-image: url('backgrounds/campaign_select.webp');
              background-size: cover;
              background-position: center;
              opacity: 0.3;
              z-index: -1;
            }
            #campaign .header {
              padding: 20px;
              background: rgba(0,0,0,0.3);
              border-bottom: 2px solid #3a4f75;
              display: flex;
              justify-content: space-between;
              align-items: center;
            }
            #campaign .currency {
              display: flex;
              gap: 20px;
              font-size: 16px;
            }
            #campaign .currency-item {
              background: rgba(0,0,0,0.3);
              padding: 8px 16px;
              border-radius: 8px;
              border: 1px solid #3a4f75;
            }
            #campaign .chapter-section {
              margin: 0 16px 28px 16px;
              border: 1px solid rgba(74, 158, 255, 0.35);
              border-radius: 16px;
              background: rgba(8, 16, 32, 0.6);
              box-shadow: 0 10px 32px rgba(0, 0, 0, 0.35);
              overflow: hidden;
              backdrop-filter: blur(6px);
            }
            #campaign .chapter-header {
              padding: 18px 24px;
              display: flex;
              flex-direction: column;
              gap: 6px;
              background: linear-gradient(135deg, rgba(74, 158, 255, 0.35), rgba(42, 63, 95, 0.6));
              border-bottom: 1px solid rgba(74, 158, 255, 0.4);
            }
            #campaign .chapter-header h3 {
              margin: 0;
              font-size: 22px;
              color: #96c8ff;
            }
            #campaign .chapter-description {
              font-size: 13px;
              color: rgba(206, 222, 255, 0.85);
            }
            #campaign .chapter-progress {
              font-size: 12px;
              color: rgba(150, 200, 255, 0.9);
              letter-spacing: 0.04em;
              text-transform: uppercase;
            }
            #campaign .chapter-section .stages-grid {
              padding: 20px;
            }
            #campaign .stages-grid {
              display: grid;
              grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
              gap: 20px;
              padding: 20px;
            }
            @media (max-width: 768px) {
              #campaign .header {
                padding: var(--space-md);
                flex-wrap: wrap;
                gap: var(--space-md);
              }
              #campaign .currency {
                gap: var(--space-sm);
                font-size: var(--font-size-sm);
              }
              #campaign .currency-item {
                padding: var(--space-sm) var(--space-md);
              }
              #campaign .chapter-section {
                margin: 0 var(--space-md) var(--space-lg);
              }
              #campaign .chapter-header {
                padding: var(--space-md);
              }
              #campaign .chapter-section .stages-grid {
                padding: var(--space-md);
              }
              #campaign .stages-grid {
                grid-template-columns: 1fr;
                gap: var(--space-lg);
                padding: var(--space-md);
              }
            }
            @media (max-width: 480px) {
              #campaign .header {
                padding: var(--space-sm);
              }
              #campaign .currency {
                flex-direction: column;
                gap: var(--space-xs);
                width: 100%;
              }
              #campaign .currency-item {
                width: 100%;
                text-align: center;
              }
            }
            #campaign .stage-card {
              background: linear-gradient(135deg, #2a3f5f, #1a2f4f);
              border: 2px solid #3a4f75;
              border-radius: 12px;
              padding: 20px;
              cursor: pointer;
              transition: all 0.2s;
            }
            #campaign .stage-card:hover {
              border-color: #4a9eff;
              transform: translateY(-4px);
              box-shadow: 0 4px 12px rgba(74, 158, 255, 0.3);
            }
            #campaign .stage-card.cleared {
              border-color: #4CAF50;
              background: linear-gradient(135deg, #2a4f3f, #1a3f2f);
            }
            #campaign .stage-card.locked {
              opacity: 0.5;
              cursor: not-allowed;
            }
            #campaign .stage-card.locked:hover {
              transform: none;
              border-color: #3a4f75;
            }
            #campaign .stage-header {
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin-bottom: 12px;
            }
            #campaign .stage-number {
              font-size: 24px;
              font-weight: bold;
              color: #4a9eff;
            }
            #campaign .stage-name {
              font-size: 18px;
              font-weight: bold;
              margin-bottom: 8px;
            }
            #campaign .stage-theme {
              font-size: 12px;
              color: #aaa;
              margin-bottom: 12px;
            }
            #campaign .stage-power {
              font-size: 14px;
              color: #f39c12;
              margin-bottom: 12px;
            }
            #campaign .stage-rewards {
              font-size: 12px;
              color: #66BB6A;
            }
            @media (max-width: 768px) {
              #campaign .stage-card {
                padding: var(--space-lg);
              }
              #campaign .stage-header {
                margin-bottom: var(--space-md);
              }
              #campaign .stage-number {
                font-size: var(--font-size-2xl);
              }
              #campaign .stage-name {
                font-size: var(--font-size-lg);
                margin-bottom: var(--space-sm);
              }
              #campaign .stage-theme,
              #campaign .stage-power,
              #campaign .stage-rewards {
                font-size: var(--font-size-xs);
                margin-bottom: var(--space-sm);
              }
            }
            @media (max-width: 480px) {
              #campaign .stage-card {
                padding: var(--space-md);
              }
              #campaign .stage-number {
                font-size: var(--font-size-xl);
              }
              #campaign .stage-name {
                font-size: var(--font-size-base);
              }
            }
            /* 보상 화면 스타일 */
            #reward {
              position: fixed;
              inset: 0;
              display: none;
              align-items: center;
              justify-content: center;
              z-index: 200;
              background: rgba(6, 12, 24, 0.85);
            }
            #reward.active { display: flex; }
            #reward .reward-background {
              position: absolute;
              inset: 0;
              background-image: url('backgrounds/reward.webp');
              background-size: cover;
              background-position: center;
              opacity: 0.25;
              filter: blur(12px);
              pointer-events: none;
            }
            #reward .reward-panel {
              position: relative;
              width: min(760px, 92vw);
              border-radius: 30px;
              padding: clamp(28px, 6vw, 40px);
              background: linear-gradient(135deg, rgba(18, 32, 55, 0.95), rgba(10, 20, 38, 0.9));
              border: 1px solid rgba(125, 165, 255, 0.25);
              box-shadow: 0 24px 60px rgba(4, 10, 22, 0.75);
              display: flex;
              flex-direction: column;
              gap: 26px;
            }
            #reward .reward-header {
              text-align: center;
              display: flex;
              flex-direction: column;
              gap: 12px;
            }
            #reward .reward-badge {
              display: inline-block;
              align-self: center;
              padding: 6px 16px;
              font-size: 12px;
              letter-spacing: 0.12em;
              border-radius: 999px;
              background: rgba(88, 160, 255, 0.18);
              color: #bcd7ff;
              border: 1px solid rgba(88, 160, 255, 0.35);
              text-transform: uppercase;
            }
            #reward .reward-title {
              margin: 0;
              font-size: clamp(28px, 4vw, 38px);
              font-weight: 700;
              color: #f0f6ff;
            }
            #reward .reward-subtitle {
              margin: 0;
              font-size: clamp(14px, 2.4vw, 18px);
              color: rgba(208, 220, 255, 0.76);
              line-height: 1.6;
            }
            #reward .reward-body {
              display: flex;
              justify-content: center;
              padding: clamp(20px, 5vw, 32px);
              border-radius: 22px;
              background: rgba(12, 20, 38, 0.75);
              border: 1px solid rgba(92, 134, 206, 0.25);
              box-shadow: inset 0 0 35px rgba(4, 10, 22, 0.6);
            }
            #reward .reward-body--empty {
              background: rgba(12, 20, 38, 0.55);
            }
            #reward .reward-items {
              display: grid;
              grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
              gap: clamp(18px, 4vw, 28px);
              width: 100%;
            }
            #reward .reward-item {
              background: linear-gradient(135deg, rgba(32, 52, 82, 0.9), rgba(18, 32, 55, 0.85));
              border-radius: 18px;
              padding: 18px;
              text-align: center;
              border: 1px solid rgba(125, 165, 255, 0.18);
              box-shadow: 0 18px 30px rgba(3, 10, 22, 0.45);
              display: flex;
              flex-direction: column;
              gap: 6px;
            }
            #reward .reward-icon {
              width: 64px;
              height: 64px;
              margin: 0 auto;
              background-size: contain;
              background-repeat: no-repeat;
              background-position: center;
              filter: drop-shadow(0 12px 18px rgba(0, 0, 0, 0.35));
            }
            #reward .reward-icon.gold {
              background-image: url('cardIcons/Type/type_special.png');
            }
            #reward .reward-icon.shard {
              background-image: url('cardIcons/Type/type_heal.png');
            }
            #reward .reward-amount {
              font-size: 24px;
              font-weight: 700;
              color: #f8ffda;
            }
            #reward .reward-label {
              font-size: 14px;
              letter-spacing: 0.04em;
              color: rgba(188, 208, 255, 0.7);
              text-transform: uppercase;
            }
            #reward .reward-empty {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 12px;
              color: rgba(200, 214, 255, 0.75);
            }
            #reward .reward-empty-icon {
              font-size: 42px;
            }
            #reward .reward-empty-text {
              font-size: 18px;
            }
            #reward .reward-btn {
              align-self: center;
              background: linear-gradient(135deg, #6fb1ff, #3c6bff);
              color: #fff;
              border: none;
              padding: 14px 42px;
              border-radius: 999px;
              font-size: 18px;
              font-weight: 600;
              cursor: pointer;
              transition: transform 0.2s, box-shadow 0.2s;
              box-shadow: 0 18px 38px rgba(63, 135, 255, 0.35);
            }
            #reward .reward-btn:hover {
              transform: translateY(-2px);
              box-shadow: 0 22px 44px rgba(102, 177, 255, 0.45);
            }
            @media (max-width: 600px) {
              #reward .reward-panel {
                gap: 20px;
              }
              #reward .reward-body {
                padding: 16px;
              }
            }
            /* 상점 화면 스타일 */
            #shop {
              position: fixed;
              inset: 0;
              display: none;
              background: linear-gradient(135deg, #0F1A2C, #1a2f4f);
              overflow-y: auto;
              z-index: 100;
              color: #fff;
              font-family: sans-serif;
            }
            #shop.active { display: block; }
            #shop::before {
              content: '';
              position: fixed;
              inset: 0;
              background-image: url('backgrounds/shop.webp');
              background-size: cover;
              background-position: center;
              opacity: 0.3;
              z-index: -1;
            }
            #shop .header {
              padding: 20px;
              background: rgba(0,0,0,0.3);
              border-bottom: 2px solid #3a4f75;
              display: flex;
              justify-content: space-between;
              align-items: center;
            }
            #shop .header h2 {
              margin: 0;
              font-size: 24px;
              color: #fff;
            }
            #shop .currency {
              display: flex;
              gap: 20px;
              font-size: 16px;
            }
            #shop .currency-item {
              background: rgba(0,0,0,0.3);
              padding: 8px 16px;
              border-radius: 8px;
              border: 1px solid #3a4f75;
              color: #fff;
            }
            #shop .shop-items,
            #shop .shop-packs {
              display: grid;
              grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
              gap: 20px;
              padding: 20px;
            }

            #shop .shop-item,
            #shop .shop-pack {
              position: relative;
              border-radius: 18px;
              padding: 20px;
              overflow: hidden;
              isolation: isolate;
              background: linear-gradient(135deg, rgba(26, 40, 70, 0.92), rgba(12, 18, 32, 0.95));
              border: 1px solid rgba(120, 160, 255, 0.35);
              box-shadow: 0 18px 36px rgba(6, 10, 20, 0.45);
              transition: transform var(--transition-base), box-shadow var(--transition-base), border-color var(--transition-base);
            }

            #shop .shop-pack {
              --pack-portrait: none;
              --pack-accent: rgba(120, 180, 255, 0.35);
              padding: 24px;
              text-align: left;
            }

            #shop .shop-pack::before,
            #shop .shop-pack::after {
              content: '';
              position: absolute;
              inset: 0;
              pointer-events: none;
            }

            #shop .shop-pack::before {
              background: radial-gradient(circle at 15% -10%, var(--pack-accent), transparent 65%);
              opacity: 0.9;
              z-index: 0;
            }

            #shop .shop-pack::after {
              right: -8%;
              left: auto;
              width: 60%;
              background-image: var(--pack-portrait);
              background-repeat: no-repeat;
              background-size: contain;
              background-position: right center;
              opacity: 0.45;
              filter: saturate(1.05);
              transform: translateX(0);
              transition: opacity var(--transition-base), transform var(--transition-base);
              z-index: 0;
            }

            #shop .shop-pack:hover {
              transform: translateY(-4px);
              box-shadow: 0 24px 44px rgba(8, 14, 26, 0.6);
              border-color: rgba(180, 210, 255, 0.55);
            }

            #shop .shop-pack:hover::after {
              opacity: 0.6;
              transform: translateX(-2%);
            }

            #shop .shop-pack .pack-content {
              position: relative;
              z-index: 1;
              display: flex;
              flex-direction: column;
              gap: 16px;
              min-height: 240px;
            }

            #shop .shop-pack .pack-header {
              display: flex;
              flex-direction: column;
              gap: 6px;
            }

            #shop .shop-pack .pack-name {
              margin: 0;
              font-size: 20px;
              font-weight: 700;
              color: #fff;
              letter-spacing: 0.02em;
            }

            #shop .shop-pack .pack-desc {
              margin: 0;
              font-size: 14px;
              color: rgba(210, 222, 255, 0.8);
              line-height: 1.5;
            }

            #shop .shop-pack .pack-rates {
              display: flex;
              flex-direction: column;
              gap: 8px;
              background: rgba(8, 14, 26, 0.4);
              border: 1px solid rgba(130, 170, 255, 0.25);
              border-radius: 12px;
              padding: 12px 14px;
              backdrop-filter: blur(2px);
            }

            #shop .shop-pack .pack-rates-title {
              font-size: 12px;
              color: rgba(170, 200, 255, 0.8);
              text-transform: uppercase;
              letter-spacing: 0.08em;
            }

            #shop .shop-pack .pack-rates-grid {
              display: grid;
              grid-template-columns: auto auto;
              gap: 4px 12px;
              font-size: 12px;
              color: rgba(220, 230, 255, 0.85);
            }

            #shop .shop-pack .pack-rates-grid span:nth-child(2n) {
              text-align: right;
              font-weight: 600;
            }

            #shop .shop-pack .pack-price {
              font-size: 18px;
              font-weight: 700;
              color: #7cc8ff;
            }

            #shop .shop-pack .pack-price.disabled {
              color: #ff8b8b;
              opacity: 0.85;
            }

            #shop .shop-pack .buy-pack-btn {
              margin-top: auto;
              background: linear-gradient(135deg, #4a9eff, #1565c0);
              color: #fff;
              border: none;
              padding: 12px;
              border-radius: 8px;
              cursor: pointer;
              font-size: 15px;
              font-weight: 700;
              display: inline-flex;
              align-items: center;
              justify-content: center;
              gap: 6px;
              transition: transform var(--transition-base), box-shadow var(--transition-base), background var(--transition-base);
              width: 100%;
              box-shadow: 0 12px 24px rgba(74, 158, 255, 0.25);
            }

            #shop .shop-pack .buy-pack-btn:hover:not(:disabled) {
              transform: translateY(-2px);
              background: linear-gradient(135deg, #5aaeff, #1f6bda);
              box-shadow: 0 16px 32px rgba(74, 158, 255, 0.35);
            }

            #shop .shop-pack .buy-pack-btn:disabled {
              opacity: 0.55;
              cursor: not-allowed;
              transform: none;
              background: rgba(110, 120, 150, 0.55);
              box-shadow: none;
            }

            #shop .shop-item .item-name {
              font-size: 16px;
              font-weight: bold;
              margin-bottom: 8px;
            }

            #shop .shop-item .item-type {
              font-size: 12px;
              color: #aaa;
              margin-bottom: 12px;
            }

            #shop .shop-item .item-price {
              font-size: 20px;
              color: #f39c12;
              margin-bottom: 12px;
            }

            #shop .shop-item .buy-btn {
              background: linear-gradient(135deg, #4a9eff, #1565C0);
              color: #fff;
              border: none;
              padding: 8px 16px;
              border-radius: 6px;
              cursor: pointer;
              font-size: 14px;
              font-weight: bold;
              transition: all 0.2s;
              width: 100%;
            }

            #shop .shop-item .buy-btn:hover {
              transform: scale(1.05);
            }

            #shop .shop-item .buy-btn:disabled {
              opacity: 0.5;
              cursor: not-allowed;
              transform: none;
            }
            
            /* 튜토리얼 오버레이 */
            #tutorial-overlay {
              position: fixed;
              inset: 0;
              background: rgba(0, 0, 0, 0.85);
              z-index: 300;
              display: none;
              animation: fadeIn 0.3s ease-out;
            }
            #tutorial-overlay.active { display: block; }
            #tutorial-overlay .tutorial-content {
              position: absolute;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
              background: linear-gradient(135deg, #1a2f4f, #0F1A2C);
              border: 3px solid #4a9eff;
              border-radius: 16px;
              padding: 40px;
              max-width: 600px;
              box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6);
              text-align: center;
            }
            #tutorial-overlay .tutorial-icon {
              font-size: 64px;
              margin-bottom: 20px;
              animation: bounce 1s ease-in-out infinite;
            }
            #tutorial-overlay .tutorial-title {
              font-size: 28px;
              font-weight: bold;
              color: #4a9eff;
              margin-bottom: 16px;
              font-family: var(--font-family-display);
            }
            #tutorial-overlay .tutorial-text {
              font-size: 16px;
              line-height: 1.8;
              color: #ddd;
              margin-bottom: 24px;
            }
            #tutorial-overlay .tutorial-highlight {
              background: rgba(74, 158, 255, 0.2);
              padding: 8px 16px;
              border-radius: 8px;
              border-left: 3px solid #4a9eff;
              margin: 16px 0;
              text-align: left;
            }
            #tutorial-overlay .tutorial-buttons {
              display: flex;
              gap: 12px;
              justify-content: center;
            }
            #tutorial-overlay .tutorial-btn {
              background: linear-gradient(135deg, #4a9eff, #1565C0);
              color: #fff;
              border: none;
              padding: 12px 32px;
              border-radius: 8px;
              font-size: 16px;
              font-weight: bold;
              cursor: pointer;
              transition: all 0.2s;
              box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
            }
            #tutorial-overlay .tutorial-btn:hover {
              transform: translateY(-2px);
              box-shadow: 0 4px 12px rgba(74, 158, 255, 0.5);
            }
            #tutorial-overlay .tutorial-btn.secondary {
              background: rgba(255,255,255,0.1);
              border: 1px solid rgba(255,255,255,0.3);
            }
            @keyframes bounce {
              0%, 100% { transform: translateY(0); }
              50% { transform: translateY(-10px); }
            }
            @media (max-width: 768px) {
              #tutorial-overlay .tutorial-content {
                max-width: 90%;
                padding: 30px 20px;
              }
              #tutorial-overlay .tutorial-title {
                font-size: 24px;
              }
              #tutorial-overlay .tutorial-text {
                font-size: 14px;
              }
              #tutorial-overlay .tutorial-buttons {
                flex-direction: column;
              }
              #tutorial-overlay .tutorial-btn {
                width: 100%;
              }
            }
            
            /* 컷신 화면 스타일 */
            #cutscene {
              position: fixed;
              inset: 0;
              display: none;
              z-index: 250;
            }
            #cutscene.active { display: block; }
            
            #cutscene .cutscene-background {
              position: absolute;
              inset: 0;
              background-size: cover;
              background-position: center;
              filter: brightness(0.7);
            }
            
            #cutscene .cutscene-content {
              position: relative;
              height: 100%;
              display: flex;
              flex-direction: column;
            }
            
            #cutscene .cutscene-top {
              flex: 2;
              position: relative;
            }
            
            #cutscene .character-portrait {
              position: absolute;
              bottom: 0;
              left: 50%;
              transform: translateX(-50%);
              max-width: 400px;
              max-height: 500px;
              opacity: 0;
              transition: opacity 0.5s, transform 0.5s;
              filter: drop-shadow(0 10px 30px rgba(0, 0, 0, 0.8));
              border: 4px solid rgba(255, 255, 255, 0.9);
              border-radius: 12px;
              background: linear-gradient(to bottom, rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.15));
              box-shadow: 0 0 20px rgba(74, 158, 255, 0.4), inset 0 0 30px rgba(0, 0, 0, 0.2);
            }
            
            #cutscene .character-portrait.visible {
              opacity: 1;
            }
            
            /* 감정 애니메이션 */
            @keyframes emotion-shake {
              0%, 100% { transform: translateX(-50%) translateY(0); }
              25% { transform: translateX(-50%) translateY(-5px) rotate(-2deg); }
              75% { transform: translateX(-50%) translateY(5px) rotate(2deg); }
            }
            @keyframes emotion-bounce {
              0%, 100% { transform: translateX(-50%) translateY(0); }
              50% { transform: translateX(-50%) translateY(-20px); }
            }
            @keyframes emotion-fade {
              0% { opacity: 1; }
              50% { opacity: 0.6; }
              100% { opacity: 1; }
            }
            @keyframes emotion-zoom {
              0% { transform: translateX(-50%) scale(1); }
              50% { transform: translateX(-50%) scale(1.1); }
              100% { transform: translateX(-50%) scale(1); }
            }
            
            #cutscene .character-portrait.emotion-angry {
              animation: emotion-shake 0.5s ease-in-out;
            }
            #cutscene .character-portrait.emotion-happy {
              animation: emotion-bounce 0.6s ease-in-out;
            }
            #cutscene .character-portrait.emotion-sad {
              animation: emotion-fade 0.8s ease-in-out;
            }
            #cutscene .character-portrait.emotion-surprised {
              animation: emotion-zoom 0.4s ease-in-out;
            }
            
            #cutscene .dialogue-box {
              flex: 1;
              background: linear-gradient(to top, rgba(0, 0, 0, 0.95), rgba(0, 0, 0, 0.85));
              border-top: 3px solid #4a9eff;
              padding: 30px 40px;
              color: #fff;
              font-family: sans-serif;
              display: flex;
              flex-direction: column;
              justify-content: center;
            }
            
            #cutscene .dialogue-speaker {
              font-size: 22px;
              font-weight: bold;
              color: #4a9eff;
              margin-bottom: 12px;
              text-shadow: 0 2px 8px rgba(74, 158, 255, 0.5);
            }
            
            #cutscene .dialogue-text {
              font-size: 18px;
              line-height: 1.8;
              color: #ddd;
              min-height: 80px;
            }
            
            #cutscene .dialogue-controls {
              margin-top: 20px;
              display: flex;
              justify-content: space-between;
              align-items: center;
            }
            
            #cutscene .dialogue-progress {
              font-size: 14px;
              color: #888;
            }
            
            #cutscene .dialogue-buttons {
              display: flex;
              gap: 12px;
            }
            
            #cutscene .dialogue-btn {
              background: linear-gradient(135deg, #4a9eff, #1565C0);
              color: #fff;
              border: none;
              padding: 10px 24px;
              border-radius: 8px;
              font-size: 16px;
              font-weight: bold;
              cursor: pointer;
              transition: all 0.2s;
              box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
            }
            
            #cutscene .dialogue-btn:hover {
              transform: translateY(-2px);
              box-shadow: 0 4px 12px rgba(74, 158, 255, 0.5);
            }
            
            #cutscene .dialogue-btn.secondary {
              background: rgba(255,255,255,0.1);
              border: 1px solid rgba(255,255,255,0.3);
            }
            
            #cutscene .skip-hint {
              position: absolute;
              top: 20px;
              right: 20px;
              font-size: 13px;
              color: rgba(255,255,255,0.5);
              background: rgba(0,0,0,0.5);
              padding: 8px 16px;
              border-radius: 20px;
            }
            
            @media (max-width: 768px) {
              #cutscene .cutscene-top {
                flex: 1.5;
              }
              #cutscene .character-portrait {
                max-width: 300px;
                max-height: 400px;
              }
              #cutscene .dialogue-box {
                padding: 20px;
              }
              #cutscene .dialogue-speaker {
                font-size: 18px;
              }
              #cutscene .dialogue-text {
                font-size: 15px;
                min-height: 60px;
              }
              #cutscene .dialogue-btn {
                padding: 8px 16px;
                font-size: 14px;
              }
              #cutscene .skip-hint {
                font-size: 11px;
                padding: 6px 12px;
              }
            }
            @media (max-width: 480px) {
              #cutscene .cutscene-top {
                flex: 1.2;
              }
              #cutscene .character-portrait {
                max-width: 200px;
                max-height: 280px;
                border: 2px solid rgba(255, 255, 255, 0.9);
              }
              #cutscene .dialogue-box {
                padding: var(--space-lg);
              }
              #cutscene .dialogue-speaker {
                font-size: var(--font-size-lg);
                margin-bottom: var(--space-sm);
              }
              #cutscene .dialogue-text {
                font-size: var(--font-size-base);
                line-height: 1.6;
                min-height: 50px;
              }
              #cutscene .dialogue-btn {
                padding: var(--space-sm) var(--space-xl);
                font-size: var(--font-size-base);
              }
              #cutscene .dialogue-progress {
                font-size: var(--font-size-xs);
              }
              #cutscene .skip-hint {
                font-size: var(--font-size-xs);
                padding: var(--space-xs) var(--space-sm);
                top: var(--space-sm);
                right: var(--space-sm);
              }
            }
            
            /* 승리/패배 화면 스타일 */
            #victory-screen, #defeat-screen {
              position: fixed;
              inset: 0;
              display: none;
              z-index: 260;
            }
            #victory-screen.active, #defeat-screen.active {
              display: flex;
              align-items: center;
              justify-content: center;
            }
            #victory-screen .result-background,
            #defeat-screen .result-background {
              position: absolute;
              inset: 0;
              background-size: cover;
              background-position: center;
              filter: brightness(0.85);
            }
            #victory-screen .result-background {
              filter: brightness(1);
            }
            #victory-screen .result-overlay,
            #defeat-screen .result-overlay {
              position: relative;
              z-index: 1;
              display: flex;
              align-items: center;
              justify-content: center;
              width: 100%;
              padding: 24px;
            }
            .result-card {
              width: min(760px, 90vw);
              display: flex;
              gap: 32px;
              align-items: center;
              padding: clamp(24px, 4vw, 36px);
              border-radius: 28px;
              background: linear-gradient(135deg, rgba(13, 22, 38, 0.92), rgba(18, 32, 55, 0.88));
              border: 1px solid rgba(255, 255, 255, 0.08);
              box-shadow: 0 24px 60px rgba(6, 12, 24, 0.6);
              position: relative;
              overflow: hidden;
            }
            .result-card::before {
              content: '';
              position: absolute;
              inset: -40% auto auto -20%;
              width: 60%;
              height: 120%;
              background: radial-gradient(circle, rgba(255, 255, 255, 0.18) 0%, transparent 70%);
              opacity: 0.7;
              filter: blur(30px);
            }
            .result-card--victory::before {
              background: radial-gradient(circle, rgba(76, 175, 144, 0.55) 0%, transparent 68%);
            }
            .result-card--defeat::before {
              left: auto;
              right: -20%;
              background: radial-gradient(circle, rgba(241, 91, 91, 0.55) 0%, transparent 68%);
            }
            .result-portrait {
              width: clamp(180px, 24vw, 240px);
              aspect-ratio: 3 / 4;
              flex-shrink: 0;
              border-radius: 18px;
              background-size: cover;
              background-position: center;
              box-shadow: 0 18px 40px rgba(0, 0, 0, 0.45);
              border: 2px solid rgba(255, 255, 255, 0.18);
              position: relative;
              overflow: hidden;
            }
            .result-portrait::after {
              content: '';
              position: absolute;
              inset: 0;
              background: linear-gradient(180deg, transparent 0%, rgba(0, 0, 0, 0.45) 100%);
            }
            .result-content {
              flex: 1;
              display: flex;
              flex-direction: column;
              gap: 8px;
              position: relative;
              z-index: 1;
            }
            .result-title {
              font-size: clamp(36px, 5vw, 60px);
              font-weight: 800;
              letter-spacing: 0.04em;
              margin: 0;
              color: var(--result-accent, #4caf90);
              text-shadow: 0 10px 26px rgba(0, 0, 0, 0.6);
            }
            .result-subtitle {
              font-size: clamp(16px, 2.6vw, 20px);
              color: rgba(202, 216, 255, 0.85);
              letter-spacing: 0.02em;
            }
            .result-speaker {
              margin-top: 12px;
              font-size: clamp(18px, 3vw, 22px);
              font-weight: 600;
              color: #fff;
            }
            .result-message {
              font-size: clamp(16px, 2.8vw, 20px);
              line-height: 1.6;
              color: rgba(235, 242, 255, 0.92);
              padding: 16px 20px;
              border-radius: 14px;
              background: linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.02));
              border: 1px solid rgba(255, 255, 255, 0.12);
              box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.04);
            }
            .result-btn {
              margin-top: 24px;
              align-self: flex-start;
              background: linear-gradient(135deg, #4a9eff, #1565C0);
              color: #fff;
              border: none;
              padding: 15px 46px;
              border-radius: 999px;
              font-size: 18px;
              font-weight: 600;
              cursor: pointer;
              transition: transform 0.2s, box-shadow 0.2s;
              box-shadow: 0 16px 32px rgba(21, 101, 192, 0.35);
            }
            .result-btn:hover {
              transform: translateY(-3px);
              box-shadow: 0 22px 42px rgba(74, 158, 255, 0.45);
            }
            @media (max-width: 768px) {
              .result-card {
                flex-direction: column;
                text-align: center;
                gap: 18px;
              }
              .result-btn {
                align-self: center;
                width: 100%;
                padding: 14px;
              }
            }
            /* Daily Dungeon screen styles */
            #daily {
              position: fixed;
              inset: 0;
              display: none;
              background: linear-gradient(135deg, #0f162c, #1a2f4f);
              overflow-y: auto;
              z-index: 100;
              color: #fff;
              font-family: sans-serif;
            }
            #daily.active { display: block; }
            #daily::before {
              content: '';
              position: fixed;
              inset: 0;
              background-image: url('backgrounds/campaign_select.webp');
              background-size: cover;
              background-position: center;
              opacity: 0.3;
              z-index: -1;
            }
            #daily .header {
              padding: 20px;
              background: rgba(0,0,0,0.35);
              border-bottom: 2px solid rgba(58, 111, 170, 0.7);
              display: flex;
              justify-content: space-between;
              align-items: center;
            }
            #daily .header h2 {
              margin: 0;
              font-size: 28px;
            }
            #daily .summary {
              display: flex;
              flex-wrap: wrap;
              gap: 12px;
              font-size: 13px;
              color: rgba(210, 225, 255, 0.85);
              margin-top: 10px;
            }
            #daily .currency {
              display: flex;
              gap: 16px;
              font-size: 15px;
            }
            #daily .currency-item {
              background: rgba(0,0,0,0.3);
              padding: 8px 14px;
              border-radius: 8px;
              border: 1px solid rgba(58, 111, 170, 0.7);
            }
            #daily .chapter-section {
              margin: 16px;
              border: 1px solid rgba(120, 170, 255, 0.35);
              border-radius: 16px;
              background: rgba(10, 18, 38, 0.7);
              box-shadow: 0 12px 36px rgba(0, 0, 0, 0.45);
              overflow: hidden;
              backdrop-filter: blur(6px);
            }
            #daily .chapter-header {
              padding: 18px 24px;
              display: flex;
              flex-direction: column;
              gap: 8px;
              background: linear-gradient(135deg, rgba(120, 170, 255, 0.35), rgba(42, 63, 95, 0.55));
              border-bottom: 1px solid rgba(120, 170, 255, 0.4);
            }
            #daily .chapter-header h3 {
              margin: 0;
              font-size: 22px;
              color: #98cfff;
            }
            #daily .chapter-description {
              font-size: 13px;
              color: rgba(206, 222, 255, 0.85);
            }
            #daily .chapter-progress {
              font-size: 12px;
              color: rgba(150, 200, 255, 0.9);
              letter-spacing: 0.04em;
              text-transform: uppercase;
            }
            #daily .chapter-section .stages-grid {
              padding: 22px;
            }
            #daily .stages-grid {
              display: grid;
              grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
              gap: 20px;
              padding: 0 22px 26px 22px;
            }
            #daily .stage-card {
              background: linear-gradient(135deg, rgba(36, 52, 86, 0.95), rgba(18, 30, 55, 0.95));
              border: 2px solid rgba(74, 158, 255, 0.35);
              border-radius: 14px;
              padding: 22px;
              cursor: pointer;
              transition: all 0.2s;
              position: relative;
            }
            #daily .stage-card .badge {
              position: absolute;
              top: -10px;
              right: -10px;
              background: linear-gradient(135deg, #4a9eff, #1565c0);
              border-radius: 999px;
              padding: 6px 14px;
              font-size: 12px;
              font-weight: bold;
            }
            #daily .stage-card:hover {
              border-color: #6ab0ff;
              transform: translateY(-4px);
              box-shadow: 0 6px 20px rgba(74, 158, 255, 0.35);
            }
            #daily .stage-card.cleared {
              border-color: #4CAF50;
              background: linear-gradient(135deg, rgba(36, 76, 63, 0.95), rgba(20, 52, 36, 0.95));
            }
            #daily .stage-card.locked {
              opacity: 0.45;
              cursor: not-allowed;
            }
            #daily .stage-card.locked:hover {
              transform: none;
              border-color: rgba(74, 158, 255, 0.35);
              box-shadow: none;
            }
            #daily .stage-header {
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin-bottom: 14px;
            }
            #daily .stage-number {
              font-size: 22px;
              font-weight: bold;
              color: #7cbcff;
            }
            #daily .stage-name {
              font-size: 20px;
              font-weight: bold;
              margin-bottom: 8px;
            }
            #daily .stage-description {
              font-size: 13px;
              color: rgba(210, 220, 255, 0.85);
              margin-bottom: 12px;
              line-height: 1.5;
            }
            #daily .stage-power {
              font-size: 13px;
              color: #ffdd8d;
              margin-bottom: 12px;
            }
            #daily .modifier-list {
              display: flex;
              flex-direction: column;
              gap: 8px;
              margin: 14px 0;
            }
            #daily .modifier-item {
              background: rgba(0, 0, 0, 0.35);
              border: 1px solid rgba(120, 170, 255, 0.35);
              border-radius: 8px;
              padding: 10px 12px;
              font-size: 12px;
              display: flex;
              gap: 10px;
              align-items: center;
              color: rgba(220, 230, 255, 0.9);
            }
            #daily .modifier-item strong {
              font-size: 13px;
              color: #9ecbff;
            }
            #daily .stage-rewards {
              display: flex;
              gap: 16px;
              font-size: 14px;
              color: #ffd54f;
              font-weight: bold;
              margin-bottom: 16px;
            }
            #daily .stage-actions {
              display: flex;
              justify-content: flex-end;
              gap: 10px;
            }
            #daily .stage-card button {
              background: linear-gradient(135deg, #4a9eff, #1565c0);
              color: #fff;
              border: none;
              padding: 10px 20px;
              border-radius: 8px;
              cursor: pointer;
              font-size: 14px;
              font-weight: bold;
              transition: transform 0.2s, box-shadow 0.2s;
            }
            #daily .stage-card button:hover:not(:disabled) {
              transform: translateY(-3px);
              box-shadow: 0 6px 18px rgba(74, 158, 255, 0.4);
            }
            #daily .stage-card button:disabled {
              background: rgba(120, 140, 170, 0.4);
              cursor: not-allowed;
              box-shadow: none;
            }
            @media (max-width: 768px) {
              #daily .header {
                flex-direction: column;
                align-items: flex-start;
                gap: 12px;
              }
              #daily .currency {
                flex-direction: column;
                gap: 8px;
              }
              #daily .stages-grid {
                grid-template-columns: 1fr;
                padding: 0 18px 22px 18px;
              }
            }
          </style>
  </head>
  <body>
    <div id="auth-screen" class="auth-hidden" role="dialog" aria-modal="true">
      <div class="auth-panel">
        <h2 id="auth-title">계정 로그인</h2>
        <p id="auth-message" class="auth-message auth-hidden"></p>
        <p id="auth-error" class="auth-error auth-hidden" role="alert"></p>
        <form id="auth-sign-in" class="auth-form" autocomplete="on">
          <label>
            <span>이메일</span>
            <input type="email" name="email" id="auth-sign-in-email" autocomplete="email" required />
          </label>
          <label>
            <span>비밀번호</span>
            <input type="password" name="password" id="auth-sign-in-password" autocomplete="current-password" required minlength="6" />
          </label>
          <button type="submit">로그인</button>
        </form>
        <form id="auth-sign-up" class="auth-form auth-hidden" autocomplete="on">
          <label>
            <span>이메일</span>
            <input type="email" name="email" id="auth-sign-up-email" autocomplete="email" required />
          </label>
          <label>
            <span>비밀번호</span>
            <input type="password" name="password" id="auth-sign-up-password" autocomplete="new-password" required minlength="6" />
          </label>
          <label>
            <span>닉네임</span>
            <input type="text" name="nickname" id="auth-sign-up-nickname" maxlength="20" placeholder="게임에서 사용할 이름" />
          </label>
          <button type="submit">회원가입</button>
        </form>
        <div class="auth-switch" data-auth-visible="sign-in">
          <span>계정이 없나요?</span>
          <button type="button" class="auth-switch-btn" data-auth-view="sign-up">회원가입으로 이동</button>
        </div>
        <div class="auth-switch auth-hidden" data-auth-visible="sign-up">
          <span>이미 계정이 있나요?</span>
          <button type="button" class="auth-switch-btn" data-auth-view="sign-in">로그인 화면으로</button>
        </div>
      </div>
    </div>
    <button id="auth-sign-out" class="auth-sign-out auth-hidden" type="button">🔓 로그아웃</button>
    <div id="intro"></div>
    <div id="shop"></div>
    <div id="reward"></div>
    <div id="daily"></div>
    <div id="pvp">
      <div class="pvp-panel">
        <div class="pvp-header">
          <div class="pvp-header-left">
            <h2>⚔️ 대전 매치</h2>
            <p>실시간 랭크 매치에서 전략을 검증하고 시즌 포인트를 획득하세요.</p>
          </div>
          <div class="pvp-header-right">
            <span id="pvp-status-indicator" class="pvp-status-indicator status-idle">대기 중</span>
            <button id="pvp-back-btn" class="pvp-back-btn" type="button">메인 메뉴로</button>
          </div>
        </div>
        <div class="pvp-body">
          <div class="pvp-queue-card">
            <div id="pvp-status-text" class="pvp-status-message">매칭이 대기 중이지 않습니다.</div>
            <div id="pvp-error" class="pvp-alert"></div>
            <div id="pvp-opponent-info" class="pvp-opponent hidden">
              <span class="label">상대 소환사</span>
              <span id="pvp-opponent-name" class="pvp-opponent-name">-</span>
              <span class="pvp-opponent-meta">상대가 준비되면 자동으로 대전이 개시됩니다.</span>
            </div>
            <div class="pvp-actions">
              <button id="pvp-search-btn" class="pvp-button primary">
                <span class="label">⚡ 매칭 시작</span>
                <span class="sublabel">랭크 포인트를 획득하세요</span>
              </button>
              <button id="pvp-cancel-btn" class="pvp-button ghost">매칭 취소</button>
            </div>
          </div>
          <aside class="pvp-tips">
            <h3>매치 진행 안내</h3>
            <ul>
              <li>매칭이 완료되면 확인 없이 자동으로 전투가 시작됩니다.</li>
              <li>상대가 연결을 끊으면 재검색이 즉시 진행됩니다.</li>
              <li>연승 시 추가 시즌 포인트 보너스를 획득하세요.</li>
            </ul>
            <div class="pvp-meta">
              <span>🔒 Supabase 보안 매치</span>
              <span>⏱ 평균 대기 시간 15초</span>
            </div>
          </aside>
        </div>
      </div>
    </div>
    <div id="campaign"></div>
    <div id="cutscene"></div>
    <div id="victory-screen"></div>
    <div id="defeat-screen"></div>
    <div id="tutorial-overlay"></div>
    <div id="deck-editor"></div>
    <div id="card-gallery"></div>
    <!-- 공지 및 이벤트 안내 모달 -->
    <div id="announcement-modal">
      <div class="announcement-panel">
        <button type="button" class="announcement-close" data-announcement-close aria-label="닫기">✖</button>
        <img src="characters/seraphina_belmont.png" alt="Seraphina Belmont" class="announcement-portrait" loading="lazy">
        <header class="announcement-header">
          <span class="announcement-pill">Official Notice</span>
          <h2>11월 3주차 업데이트 &amp; 이벤트 안내</h2>
          <p>아래 내용은 플레이어 안내용 예시입니다. 실제 공지와 이벤트 문구는 운영 일정에 따라 변경될 수 있어요.</p>
        </header>
        <div class="announcement-sections">
          <section class="announcement-section">
            <h3>🔔 중요 공지 (예시)</h3>
            <ul>
              <li>11월 18일(월) 02:00~05:00 서버 점검이 예정되어 있습니다.</li>
              <li>신규 캠페인 챕터 &quot;서리와 화염의 결전&quot;이 주간 콘텐츠로 오픈됩니다.</li>
              <li>랭크 매치 시즌 4 프리시즌이 시작되며, 매칭 규칙 일부가 조정됩니다.</li>
            </ul>
          </section>
          <section class="announcement-section">
            <h3>🎉 진행 중 이벤트 (예시)</h3>
            <ul>
              <li>감사의 달 기념 출석 보상: 7일 누적 시 전설 카드 선택권 지급!</li>
              <li>카이 &amp; 세라피나 듀오 챌린지 - 파트너 덱으로 협력 미션을 완료하세요.</li>
              <li>길드 협력전 연습 모드가 한시적으로 개방됩니다.</li>
            </ul>
          </section>
        </div>
        <div class="announcement-actions">
          <button type="button" id="announcement-confirm" data-announcement-close>오늘의 소식 확인!</button>
          <button type="button" id="announcement-remind-later" data-announcement-close>다음에 다시 보기</button>
        </div>
      </div>
    </div>
    <!-- 가챠 애니메이션 컨테이너 (body 직접 자식으로 배치) -->
    <div id="gacha-animation-container" style="display: none; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0, 0, 0, 0.95); z-index: 10001; align-items: center; justify-content: center; flex-direction: column;">
      <div id="gacha-card-wrapper" style="position: relative; width: 300px; height: 420px; margin-bottom: 80px;">
        <img id="gacha-card-back-img" src="" alt="Card Back" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; border-radius: 12px; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5); display: block;">
        <img id="gacha-card-front-img" src="" alt="Card" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; border-radius: 12px; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5); display: none;">
      </div>
      <div id="gacha-result-info" style="text-align: center; color: #fff;">
        <h2 id="gacha-result-name" style="margin: 0 0 10px 0; font-size: 32px; font-weight: bold; color: #fff;"></h2>
        <div id="gacha-result-rarity" style="font-size: 20px; margin-bottom: 20px; color: #fff;"></div>
        <button id="gacha-result-close" style="background: #4a9eff; color: #fff; border: none; padding: 12px 40px; border-radius: 6px; cursor: pointer; font-size: 18px; font-weight: bold;">확인</button>
      </div>
    </div>
    <div id="menu">
      <div id="menu-user-info">
        <div id="menu-user-nickname">소환사</div>
        <div class="menu-user-line" id="menu-user-stage">스토리 진행 · 0/0 단계</div>
        <div class="menu-user-line" id="menu-user-rank">랭크 정보 · 0승</div>
      </div>
      <div class="menu-wrapper">
        <div class="menu-hero">
          <div class="hero-device">
            <div class="hero-device-screen">
              <img class="hero-character" src="characters/seraphina_belmont.png" alt="Seraphina Belmont" loading="lazy">
              <div class="hero-screen-overlay"></div>
            </div>
            <div class="hero-star" aria-hidden="true"></div>
          </div>
        </div>
        <div class="menu-panel">
          <div class="menu-logo">
            <span class="logo-sub">Villainess Chronicle</span>
            <span class="logo-main">빈틈없는 악역영애가 회귀했다면,<br>이번엔 가문 인정받을 때까지 그만둘 수 없어</span>
          </div>
          <p class="menu-tagline">
            회귀한 악역영애 <strong>세라피나</strong>와 함께<br>
            가문의 명예를 되찾기 위한 여정을 시작하세요.
          </p>
          <div class="menu-buttons">
            <button class="menu-btn" data-mode="campaign" style="--menu-btn-portrait: url('characters/seraphina_belmont.png');">
              <div class="menu-btn-content">
                <span class="menu-btn-title"><span class="menu-btn-icon" aria-hidden="true">📖</span>캠페인</span>
                <span class="menu-btn-desc">시네마틱 스토리와 보스 전투</span>
              </div>
              <span class="menu-btn-chevron" aria-hidden="true">&rsaquo;</span>
            </button>
            <button class="menu-btn" data-mode="daily" style="--menu-btn-portrait: url('characters/leon_ardenia.png');">
              <div class="menu-btn-content">
                <span class="menu-btn-title"><span class="menu-btn-icon" aria-hidden="true">🎯</span>일일 도전</span>
                <span class="menu-btn-desc">속성 테마 던전과 순환 보상</span>
              </div>
              <span class="menu-btn-chevron" aria-hidden="true">&rsaquo;</span>
            </button>
            <button class="menu-btn" data-mode="draft" style="--menu-btn-portrait: url('characters/lucian_rosegarden.png');" disabled>
              <div class="menu-btn-content">
                <span class="menu-btn-title"><span class="menu-btn-icon" aria-hidden="true">🎲</span>드래프트</span>
                <span class="menu-btn-desc">카드 픽 전략 모드</span>
                <span class="menu-btn-disabled">업데이트 준비 중</span>
              </div>
              <span class="menu-btn-chevron" aria-hidden="true">&rsaquo;</span>
            </button>
            <button class="menu-btn" data-mode="pvp" style="--menu-btn-portrait: url('characters/kai_drake.png');">
              <div class="menu-btn-content">
                <span class="menu-btn-title"><span class="menu-btn-icon" aria-hidden="true">⚔️</span>PvP 대전</span>
                <span class="menu-btn-desc">실시간 매칭으로 실력을 증명하세요</span>
              </div>
              <span class="menu-btn-chevron" aria-hidden="true">&rsaquo;</span>
            </button>
            <button class="menu-btn" data-mode="deck" style="--menu-btn-portrait: url('characters/iris_belmont.png');">
              <div class="menu-btn-content">
                <span class="menu-btn-title"><span class="menu-btn-icon" aria-hidden="true">🃏</span>덱 편집</span>
                <span class="menu-btn-desc">나만의 전략 덱을 구성하세요</span>
              </div>
              <span class="menu-btn-chevron" aria-hidden="true">&rsaquo;</span>
            </button>
            <button class="menu-btn" data-mode="shop" style="--menu-btn-portrait: url('characters/mira.png');">
              <div class="menu-btn-content">
                <span class="menu-btn-title"><span class="menu-btn-icon" aria-hidden="true">🏪</span>상점</span>
                <span class="menu-btn-desc">카드와 재화를 교환하세요</span>
              </div>
              <span class="menu-btn-chevron" aria-hidden="true">&rsaquo;</span>
            </button>
          </div>
          <div class="menu-footer">
            <span>Alpha 0.1.0</span>
            <span>Supabase Cloud Save Ready</span>
          </div>
        </div>
      </div>
    </div>
    <!-- 로딩 화면 -->
    <div id="loading-screen">
      <div class="loading-spinner"></div>
      <div class="loading-text">Loading...</div>
      <div class="loading-progress" id="loading-progress">0%</div>
    </div>
    
    <!-- 토스트 알림 컨테이너 -->
    <div id="toast-container"></div>
    
    <div id="app"></div>
    <div id="controls"></div>
    <div id="hud"></div>
    <button id="log-toggle">📋</button>
    <div id="log"></div>
    <div id="hand"></div>
    <div id="tooltip" style="display: none;"></div>
    
    <!-- 옵션 패널 -->
    <button id="options-toggle" title="옵션">⚙️</button>
    <div id="options-panel">
      <header>
        <span>⚙️ 옵션</span>
        <button id="options-close" aria-label="옵션 닫기">✖</button>
      </header>
      <section>
        <div style="font-weight: bold; margin-bottom: 8px;">🎵 사운드 설정</div>
      <div class="volume-row">
        <span class="volume-label">마스터</span>
        <input type="range" id="volume-master" min="0" max="100" value="70">
        <span class="volume-value" id="volume-master-val">70</span>
      </div>
      <div class="volume-row">
        <span class="volume-label">BGM</span>
        <input type="range" id="volume-bgm" min="0" max="100" value="50">
        <span class="volume-value" id="volume-bgm-val">50</span>
      </div>
      <div class="volume-row">
        <span class="volume-label">SFX</span>
        <input type="range" id="volume-sfx" min="0" max="100" value="80">
        <span class="volume-value" id="volume-sfx-val">80</span>
      </div>
      <button class="mute-btn" id="mute-btn">🔇 음소거</button>
      </section>
      <section style="margin-top: var(--space-md);">
        <button class="option-btn" id="options-language">🌐 언어 변경</button>
        <button class="option-btn" id="options-logout">🚪 로그아웃</button>
      </section>
    </div>
    
    <!-- 카드 확대 프리뷰 모달 -->
    <div id="card-preview">
      <button id="card-preview-close">✖ 닫기</button>
      <div id="card-preview-content">
        <img id="card-preview-image" src="" alt="Card Preview">
        <div id="card-preview-info">
          <div id="card-preview-name"></div>
          <div id="card-preview-cost"></div>
          <div id="card-preview-effects"></div>
          <div id="card-preview-keywords"></div>
        </div>
      </div>
    </div>
    
    <!-- 화면 전환 오버레이 -->
    <div id="screen-transition-overlay"></div>

    <!-- 클라우드 세이브/로드 오버레이 -->
    <div id="cloud-sync-overlay">
      <div class="cloud-sync-dialog">
        <div class="cloud-sync-spinner"></div>
        <div id="cloud-sync-text">데이터 동기화 중...</div>
      </div>
    </div>
    
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>


