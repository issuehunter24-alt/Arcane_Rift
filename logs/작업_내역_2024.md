# ì‘ì—… ë‚´ì—­ (2024)

## ğŸ—ƒï¸ ë¬¸ì„œ êµ¬ì¡° ì •ë¦¬ _(2025-11-09)_
- ë¬¸ì„œ ìš©ë„ë³„ í´ë” ìƒì„±: `story`, `dialogues`, `planning`, `logs`, `prompts`
- ì£¼ìš” ë¬¸ì„œ ì´ë™
  - `ì •ì‹ ìŠ¤í† ë¦¬.md` â†’ `story/`
  - `ìŠ¤í† ë¦¬ ëŒ€í™” ëª¨ìŒ.md` â†’ `dialogues/`
  - `ìŠ¤í† ë¦¬ ì‘ì„± ê³„íš.md` â†’ `planning/`
  - `ì‘ì—…_ë‚´ì—­_2024.md` â†’ `logs/`
  - `ë¦¬ì†ŒìŠ¤_ìƒì„±_í”„ë¡¬í”„íŠ¸.md` â†’ `prompts/`
- í´ë”ë³„ íŒŒì¼ ë°°ì¹˜ í™•ì¸ ë° IDE ê²½ë¡œ ì—…ë°ì´íŠ¸ ì•ˆë‚´

## ğŸ“… ì‘ì—… ì¼ì
2024ë…„ (ìµœê·¼ ì‘ì—…)

---

## ğŸ” Supabase ê³„ì •/í´ë¼ìš°ë“œ ì„¸ì´ë¸Œ ì—°ë™

### 1. Supabase í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™” ë° í™˜ê²½ ë³€ìˆ˜
- **íŒŒì¼**: `web/src/supabaseClient.ts`
- `.env.local`ì— `VITE_SUPABASE_URL`, `VITE_SUPABASE_ANON_KEY` ì‚¬ìš©
- Supabase í´ë¼ì´ì–¸íŠ¸ë¥¼ ì¤‘ì•™ì—ì„œ ìƒì„±í•˜ê³ , ë‹¤ë¥¸ ëª¨ë“ˆì—ì„œ REST í˜¸ì¶œì„ ìœ„í•œ URL/í‚¤ ìƒìˆ˜(`SUPABASE_URL`, `SUPABASE_ANON_KEY`)ë„ ì¬ì‚¬ìš©í•˜ë„ë¡ ìˆ˜ì •

### 2. ì¸ì¦ ìƒíƒœ ê´€ë¦¬ (Zustand)
- **íŒŒì¼**: `web/src/authStore.ts`
- Supabase ì¸ì¦ ì„¸ì…˜ì„ Zustand ìŠ¤í† ì–´ë¡œ ê´€ë¦¬ (ë¡œê·¸ì¸/íšŒì›ê°€ì…/ë¡œê·¸ì•„ì›ƒ)
- ë¡œê·¸ì¸ ì˜¤ë²„ë ˆì´ ìƒíƒœ(`setAuthOverlayEnabled`, `requestAuthWithCallback`)ì™€ ì—°ê³„
- ë¡œê·¸ì•„ì›ƒ ì‹œ ê²Œì„ í™”ë©´ì„ `intro`ë¡œ ë˜ëŒë¦¬ê³  ì¸ì¦ ì˜¤ë²„ë ˆì´ ê°•ì œ í‘œì¶œ (`auth-force-overlay` ì´ë²¤íŠ¸ ì‚¬ìš©)

### 3. í´ë¼ìš°ë“œ ì„¸ì´ë¸Œ & ìŠ¤í† ì–´ ì—°ë™
- **íŒŒì¼**: `web/src/cloudSave.ts`, `web/src/store.ts`, `web/src/main.ts`
- ìº í˜ì¸ ì§„í–‰, ë±, ì»¬ë ‰ì…˜, ì¼ì¼ ë˜ì „ ë“± í•µì‹¬ ìƒíƒœë¥¼ Supabase `saves` í…Œì´ë¸”ì— ì €ì¥/ë¡œë“œ
- ìë™ ì €ì¥: ìƒíƒœ ë³€ê²½ì„ ê°ì§€í•´ ë””ë°”ìš´ìŠ¤ ì €ì¥, ì¤‘ìš” ì´ë²¤íŠ¸(ê³¨ë“œ ì†Œë¹„, ë± í¸ì§‘, ìŠ¤í…Œì´ì§€ í´ë¦¬ì–´ ë“±)ì—ì„œëŠ” ì¦‰ì‹œ ì €ì¥ íŠ¸ë¦¬ê±°
- ë¸Œë¼ìš°ì € ì¢…ë£Œ(`beforeunload`, `pagehide`) ì‹œ ë§ˆì§€ë§‰ ìŠ¤ëƒ…ìƒ·ì„ ê°•ì œ ì €ì¥

### 4. UI ë°˜ì˜
- ì¸ì¦ ì˜¤ë²„ë ˆì´ & ë©”ì‹œì§€: `index.html` / `main.ts`
- í´ë¼ìš°ë“œ ë™ê¸°í™” ìƒíƒœ HUD í‘œì‹œ (`cloud-sync-status` ì´ë²¤íŠ¸ ì‚¬ìš©)
- ì¸íŠ¸ë¡œ ìŠ¤í‚µ ì‹œ ì˜ˆì•½ëœ íƒ€ì´ë¨¸ ì •ë¦¬(`introTimeouts`)í•˜ì—¬ ì—°ì¶œ ê¼¬ì„ í•´ê²°

### 5. í´ë¼ìš°ë“œ ì„¸ì´ë¸Œ íŠ¸ë¦¬ê±° ìµœì í™” _(2025-11)_
- **íŒŒì¼**: `web/src/cloudSave.ts`
- ìë™ ì €ì¥ì´ í•µì‹¬ ì´ë²¤íŠ¸ì—ì„œë§Œ ì‹¤í–‰ë˜ë„ë¡ íŠ¸ë¦¬ê±° ì¡°ê±´ì„ ì„¸ë¶„í™”
  - ì¬í™”(`gold`, `shards`) ë³€ë™, ë± í¸ì§‘, ì»¬ë ‰ì…˜ ì¶”ê°€/ì‚­ì œ, ìŠ¤í…Œì´ì§€ í´ë¦¬ì–´, ì¼ì¼ ë˜ì „ ì§„í–‰ ë³€ê²½ ì‹œì—ë§Œ ì €ì¥
  - ì´ì „ ìŠ¤ëƒ…ìƒ·ê³¼ ë¹„êµí•´ ë³€í™”ê°€ ì—†ìœ¼ë©´ ì €ì¥í•˜ì§€ ì•Šë„ë¡ ì‹œê·¸ë‹ˆì²˜ ë¹„êµ(`SaveTriggerSnapshot`)
- ê°•ì œ ì €ì¥(`flushSaveImmediately`) ì‹œì—ë„ ìƒˆë¡œìš´ íŠ¸ë¦¬ê±° ìƒíƒœë¥¼ ê¸°ë¡í•´ ì¤‘ë³µ ì €ì¥ ë°©ì§€
- `npm run build`ë¡œ íƒ€ì… ê²€ì‚¬ ë° ë²ˆë“¤ í™•ì¸

---

## âš™ï¸ PvP ì‹œìŠ¤í…œ ê¸°ì´ˆ êµ¬ì¶•

### 1. ë°ì´í„° ëª¨ë¸ & ì •ì±… ì •ë¹„
- Supabase í…Œì´ë¸”: `pvp_queue`, `pvp_matches`
- RLS ì •ì±…: ëŒ€ê¸°ì—´ ì¡°íšŒ/ì—…ë°ì´íŠ¸, ë§¤ì¹˜ ì§„í–‰ ì¤‘ ìƒíƒœ ê³µìœ ë¥¼ ìœ„í•œ ì •ì±… ì¬ì •ì˜ (`queue_select_waiting`, `queue_update_match`, `queue_self`)
- `updated_at` ì»¬ëŸ¼ ë° íŠ¸ë¦¬ê±°(`tg_set_updated_at`) ì¶”ê°€ë¡œ ìƒíƒœ ê°±ì‹  ì‹œê°„ ì¶”ì 

### 2. ë§¤ì¹­ í”Œë¡œìš° (í´ë¼ì´ì–¸íŠ¸)
- **íŒŒì¼**: `web/src/store.ts`
- `startPvpMatchmaking`
  - íì— ì°¸ê°€ (`upsert`), ìƒëŒ€ ê²€ìƒ‰, ë§¤ì¹˜ ìƒì„±/ì—…ë°ì´íŠ¸
  - ë§¤ì¹˜ ìƒíƒœ í´ë§(polling) ë° UI ì—…ë°ì´íŠ¸
  - ë¸Œë¼ìš°ì € ì¢…ë£Œ ì‹œ `fetch keepalive`ë¡œ í ë ˆì½”ë“œ ìë™ ì‚­ì œ (ë¹„ì •ìƒ ì¢…ë£Œ ëŒ€ë¹„)
- `cancelPvpMatchmaking` / `acceptPvpMatch` / `reportPvpResult`
  - í ì •ë¦¬, ë§¤ì¹˜ ìƒíƒœ ê°±ì‹ , ë°°í‹€ í™”ë©´ ì „í™˜
- ë§¤ì¹˜ ì‹œì‘ ì‹œ Supabase RPC `pvp_cleanup_stale` í˜¸ì¶œë¡œ ì¥ê¸° ëŒ€ê¸° í–‰ ì •ë¦¬

### 3. ì •ë¦¬ RPC (ìŠ¤ì¼€ì¤„ëŸ¬ ëŒ€ìš©)
- **Supabase í•¨ìˆ˜**: `public.pvp_cleanup_stale()`
  - ëŒ€ê¸°ì—´ 3ë¶„ ì´ˆê³¼ â†’ ì‚­ì œ
  - ë§¤ì¹˜ 20ë¶„ ì´ˆê³¼ â†’ `abandoned` ì²˜ë¦¬
- **íŠ¸ë¦¬ê±°/ê¶Œí•œ**: `security definer`, `anon/authenticated`ì— ì‹¤í–‰ ê¶Œí•œ ë¶€ì—¬
- ë¬´ë£Œ í”Œëœ í•œê³„ë¡œ ìŠ¤ì¼€ì¤„ ì‹¤í–‰ ë¶ˆê°€ â†’ í´ë¼ì´ì–¸íŠ¸ê°€ ë§¤ì¹­ ì‹œì‘ ì‹œë§ˆë‹¤ RPC í˜¸ì¶œ

### 4. ë‚¨ì€ ê³¼ì œ
- ë§¤ì¹˜ ìƒíƒœê°€ `matched` ë˜ë©´ ì–‘ìª½ ëª¨ë‘ ìë™ìœ¼ë¡œ ì „íˆ¬ í™”ë©´ ì§„ì…í•˜ë„ë¡ ë™ê¸°í™” í•„ìš”
- ì‹¤ì œ PvPë¥¼ ìœ„í•´ í„´/í–‰ë™ ë™ê¸°í™”ë¥¼ ê´€ë¦¬í•  ì„œë²„ ë¡œì§(Edge Function ë“±) ì„¤ê³„ ë° êµ¬í˜„ í•„ìš”
- `profiles` í…Œì´ë¸”ì— ì‚¬ìš©ì ë‹‰ë„¤ì„ì´ ì—†ëŠ” ê²½ìš° 404 ë°œìƒ â†’ íšŒì›ê°€ì… ì‹œ `profiles` ì—…ì„œíŠ¸ ì¬í™•ì¸

### 5. ì‹¤ì‹œê°„ í„´ ì§„í–‰ UX ê°œì„  _(2025-11)_
- **íŒŒì¼**: `web/src/store.ts`, `web/src/main.ts`
- ë§¤ ë¼ìš´ë“œ 15ì´ˆ ì œí•œ íƒ€ì´ë¨¸ ë„ì… ë° ìë™ í„´ ì¢…ë£Œ ë¡œì§ (`startPvpTurnTimer`, `handlePvpTurnTimeout`)
- í”Œë ˆì´ì–´/ìƒëŒ€ í„´ ì œì¶œ ìƒíƒœë¥¼ ìŠ¤í† ì–´ì—ì„œ ì¶”ì (`pvpLocalReady`, `pvpOpponentReady`)í•˜ê³  UIì— ì¦‰ì‹œ ë°˜ì˜
- ë°°í‹€ ì»¨íŠ¸ë¡¤ ì˜ì—­ì— ì¹´ìš´íŠ¸ë‹¤ìš´ ìˆ«ì + ìŠ¬ë¼ì´ë” í˜•íƒœì˜ ì§„í–‰ ë°”, ì„ ì–¸ ì™„ë£Œ ìƒíƒœ ë°°ì§€ ì¶”ê°€
- ì  ì†íŒ¨ ë“œë¡œìš°/ì¹´ë“œ ì‚¬ìš© ì‹œ ë©”ì¸ ë Œë”ëŸ¬ì— ì§ì ‘ ì•Œë¦¼ì„ ë³´ë‚´ ì´ˆê¸° 5ì¥ ì¹´ë“œ ë’·ë©´ì´ ì¦‰ì‹œ í‘œì‹œë˜ë„ë¡ ì½œë°±(`setEnemyHandUpdateCallback`)
- PvP ì „íˆ¬ëŠ” ê¸°ë³¸ ì „ì¥ ë°°ê²½(`backgrounds/fallback_1.webp`)ê³¼ ë± êµ¬ì„±ì— ë”°ë¥¸ ìºë¦­í„° ì´ˆìƒí™”ë¥¼ ìë™ ì„ íƒ
- `npm run build` í™•ì¸

---

## ğŸ§° UI & í¸ì˜ì„±

### 1. ì˜µì…˜ íŒ¨ë„ ê°œí¸
- **íŒŒì¼**: `index.html`, `main.ts`
- ê¸°ì¡´ ì‚¬ìš´ë“œ ë²„íŠ¼ì„ ì˜µì…˜ íŒ¨ë„ë¡œ êµì²´ (ë³¼ë¥¨ ìŠ¬ë¼ì´ë”, ì–¸ì–´ í† ê¸€, ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ í¬í•¨)
- íŒ¨ë„ ë‹«ê¸° ë²„íŠ¼ ì¶”ê°€ ë° ë¡œê·¸ì¸ ìƒíƒœì™€ ì—°ë™ (
  - ë¡œê·¸ì•„ì›ƒ ì„±ê³µ ì‹œ ì¸íŠ¸ë¡œ í™”ë©´ìœ¼ë¡œ ì „í™˜)

### 2. ê¸°íƒ€ ê°œì„ 
- ë§¤ì¹­ í™”ë©´ ìƒíƒœ ë¡œê·¸ ë° ì—ëŸ¬ ë©”ì‹œì§€ ê°•í™”
- í´ë¼ìš°ë“œ ì„¸ì´ë¸Œ HUD, ë¡œê·¸ì¸ ì½œë°± ì²˜ë¦¬ ì•ˆì •í™”

### 3. ëª¨ë°”ì¼ ë± í¸ì§‘ UX ê°œì„  _(2025-11)_
- **íŒŒì¼**: `web/src/main.ts`
- ëª¨ë°”ì¼ ë·°ì—ì„œ ì»¬ë ‰ì…˜/ë± ëª©ë¡ì„ ê·¸ë¦¬ë“œ ê¸°ë°˜ ì„¸ë¡œ ìŠ¤í¬ë¡¤ ë ˆì´ì•„ì›ƒìœ¼ë¡œ ì¬êµ¬ì„±í•´ ìì—°ìŠ¤ëŸ¬ìš´ ìŠ¤ì™€ì´í”„ ê²½í—˜ ì œê³µ
- ì¹´ë“œ íƒ­ ì‹œ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ë¥¼ ê±°ì³ ì¥ì°©í•˜ë„ë¡ ë³€ê²½, ìŠ¤í¬ë¡¤ ì¤‘ ì˜¤ì‘ë™ ë°©ì§€
- ì¹´ë“œ í•­ëª©ì˜ ìµœì†Œ/ìµœëŒ€ í­ì„ ê³ ì •í•´ ì‘ì€ í™”ë©´ì—ì„œë„ ì •ë³´ ê°€ë…ì„± í™•ë³´
- ì»¬ë ‰ì…˜Â·ë±Â·í†µê³„ 3ê°œ ì„¹ì…˜ì„ íƒ­ ë²„íŠ¼ìœ¼ë¡œ ì „í™˜í•´ ë‹¨ê³„ë³„ í¸ì§‘ íë¦„ ì§€ì›

### 4. ìŠ¤í¬ë¡¤ë°” í„°ì¹˜ ì˜ì—­ í™•ëŒ€ _(2025-11)_
- **íŒŒì¼**: `web/index.html`
- ëª¨ë°”ì¼ í™˜ê²½ì—ì„œ ë± í¸ì§‘ê¸° ìŠ¤í¬ë¡¤ë°” ë†’ì´ë¥¼ 14pxë¡œ í‚¤ìš°ê³  ìƒ‰ìƒì„ ì§€ì •í•´ í„°ì¹˜ ì˜ì—­ í™•ì¥
- ì»¬ë ‰ì…˜/ë± ëª©ë¡ì˜ ê°€ë¡œ ìŠ¤í¬ë¡¤ì— `-webkit-overflow-scrolling: touch`ë¥¼ ì ìš©í•´ ê´€ì„± ìŠ¤í¬ë¡¤ ì§€ì›

---

## ğŸ›¡ï¸ ì „íˆ¬ ì‹œìŠ¤í…œ ì•ˆì •í™” _(2025-11)_

- **íŒŒì¼**: `web/src/store.ts`
- `processStatusEffects`ì— `phase` ì¸ìë¥¼ ë„ì…í•´ í”Œë ˆì´ì–´/ì  ìƒíƒœë¥¼ ë¶„ë¦¬ ì²˜ë¦¬, ë°©ì–´ ì¹´ë“œê°€ ì  í„´ ì§ì „ ì‚¬ë¼ì§€ë˜ ë¬¸ì œ í•´ê²°
- ì‹±ê¸€í”Œë ˆì´: í”Œë ˆì´ì–´ í„´ ì¢…ë£Œ ì‹œ ì  ìƒíƒœë§Œ, ì  í„´ ì¢…ë£Œ ì‹œ í”Œë ˆì´ì–´ ìƒíƒœë§Œ ê°ì†Œí•˜ë„ë¡ íë¦„ ì •ë¦¬
- PvP ë¼ìš´ë“œ ì²˜ë¦¬ì—ì„œëŠ” ê¸°ì¡´ì²˜ëŸ¼ ì–‘ì¸¡ì„ ë™ì‹œì— í‹± ì²˜ë¦¬í•´ ë™ê¸°í™” ìœ ì§€
- ìƒíƒœ ì²˜ë¦¬ ë¡œê·¸ì— ëŒ€ìƒ ì •ë³´ë¥¼ ëª…ì‹œí•´ ë””ë²„ê¹… ê°€ë…ì„± ê°œì„ 

---

## ğŸ¨ ë°°ê²½ ì´ë¯¸ì§€ ì‹œìŠ¤í…œ ê°œì„ 

### 1. ë°°ê²½ ì´ë¯¸ì§€ SD í”„ë¡¬í”„íŠ¸ ê°€ì´ë“œ ì—…ë°ì´íŠ¸

**íŒŒì¼**: `ê¸°íšì„œ/ë°°ê²½_ì´ë¯¸ì§€_SD_í”„ë¡¬í”„íŠ¸.md`

#### ë³€ê²½ ì‚¬í•­

1. **Variation ì‹œìŠ¤í…œ ì œê±°**
   - ê¸°ì¡´: ìŠ¤í…Œì´ì§€ë‹¹ 3ê°œì˜ Variation ì´ë¯¸ì§€ ìƒì„±
   - ë³€ê²½: ìŠ¤í…Œì´ì§€ë‹¹ 1ê°œì˜ ì´ë¯¸ì§€ë§Œ ì‚¬ìš©
   - ê´€ë ¨ ì„¹ì…˜ ëª¨ë‘ ì œê±°:
     - Variation ì‹œìŠ¤í…œ ê°œìš”
     - Variation ìƒì„± ë°©ë²•
     - Variation í™œìš© ë°©ë²•
     - ìƒì„± ì‘ì—… ìš”ì•½ (Variation ì‹œìŠ¤í…œ)
     - ìµœì¢… ê²°ê³¼ ë¯¸ë¦¬ë³´ê¸° (Variation ì‹œìŠ¤í…œ)

2. **50ìŠ¤í…Œì´ì§€ í”„ë¡¬í”„íŠ¸ ì™„ì„±**
   - Stage 1-10: Chapter 1 (ê¸°ì¡´ ìœ ì§€)
   - Stage 11-50: Chapter 2-5 í”„ë¡¬í”„íŠ¸ ì¶”ê°€
   - ê° ìŠ¤í…Œì´ì§€ë³„ë¡œ ë‹¤ìŒ ì •ë³´ í¬í•¨:
     - ì»¨ì…‰ ì„¤ëª…
     - Positive Prompt
     - Negative Prompt
     - ì¶”ì²œ ìƒ‰ì¡°
     - íŒŒì¼ëª…

3. **Negative Prompt ê°œì„ **
   - ê³µí†µ Negative Promptì— ì¤‘ë³µ ì˜¤ë¸Œì íŠ¸ ë°©ì§€ í‚¤ì›Œë“œ ì¶”ê°€:
     ```
     multiple objects, repeated objects, two of same, pair of same, doubled objects,
     clone, cloned, copy, copies, duplicate elements, repeated elements,
     same object twice, identical objects, mirror objects, symmetrical duplicates
     ```
   - Stage 11-50ì— Negative Prompt ì¶”ê°€ (ì´ì „ì— ëˆ„ë½ë˜ì—ˆë˜ ë¶€ë¶„)

4. **íŒŒì¼ëª… ê·œì¹™ ë³€ê²½**
   - ê¸°ì¡´: `stage_XX_theme_V.png` (V = variation ë²ˆí˜¸)
   - ë³€ê²½: `stage_XX_theme.png` (variation ë²ˆí˜¸ ì œê±°)

---

## ğŸ–¼ï¸ ë°°ê²½ ì´ë¯¸ì§€ ì ìš© ì‘ì—…

### 2. Stage 11-50 ë°°ê²½ ì´ë¯¸ì§€ WebP ë³€í™˜

**ìŠ¤í¬ë¦½íŠ¸**: `Scripts/ConvertBackgroundsToWebP.ps1`

#### ì‘ì—… ë‚´ìš©
- Stage 11-50ì˜ PNG ë°°ê²½ ì´ë¯¸ì§€ë¥¼ WebP í˜•ì‹ìœ¼ë¡œ ë³€í™˜
- ì´ 40ê°œ ì´ë¯¸ì§€ ë³€í™˜ ì™„ë£Œ
- ë³€í™˜ëœ íŒŒì¼ ëª©ë¡:
  - `stage_11_training_advanced.webp`
  - `stage_12_fire_master.webp`
  - `stage_13_ice_master.webp`
  - ... (Stage 14-50ê¹Œì§€)
  - `stage_50_void_emperor.webp`

#### ë³€í™˜ ì„¤ì •
- Quality: 85
- Method: 6 (ìµœì  ì••ì¶•)
- ë„êµ¬: ImageMagick

---

### 3. ìŠ¤í…Œì´ì§€ ë°ì´í„°ì— ë°°ê²½ ì´ë¯¸ì§€ ê²½ë¡œ ì¶”ê°€

**íŒŒì¼**: `web/src/store.ts`

#### ì‘ì—… ë‚´ìš©

1. **Stage 11-50ì— story ê°ì²´ ì¶”ê°€**
   - ê° ìŠ¤í…Œì´ì§€ì— `story` ê°ì²´ ì¶”ê°€
   - `description`: ìŠ¤í…Œì´ì§€ ì„¤ëª…
   - `backgroundImage`: WebP ë°°ê²½ ì´ë¯¸ì§€ ê²½ë¡œ

2. **ì ìš©ëœ ìŠ¤í…Œì´ì§€ ëª©ë¡**

   **Chapter 2 (Stage 11-20)**
   - Stage 11: `backgrounds/stage_11_training_advanced.webp`
   - Stage 12: `backgrounds/stage_12_fire_master.webp`
   - Stage 13: `backgrounds/stage_13_ice_master.webp`
   - Stage 14: `backgrounds/stage_14_lightning_master.webp`
   - Stage 15: `backgrounds/stage_15_wind_master.webp`
   - Stage 16: `backgrounds/stage_16_earth_master.webp`
   - Stage 17: `backgrounds/stage_17_fire_challenge.webp`
   - Stage 18: `backgrounds/stage_18_friendship.webp`
   - Stage 19: `backgrounds/stage_19_shadow.webp`
   - Stage 20: `backgrounds/stage_20_elite_advanced.webp`

   **Chapter 3 (Stage 21-30)**
   - Stage 21: `backgrounds/stage_21_fusion.webp`
   - Stage 22: `backgrounds/stage_22_kai.webp`
   - Stage 23: `backgrounds/stage_23_knights.webp`
   - Stage 24: `backgrounds/stage_24_petrification.webp`
   - Stage 25: `backgrounds/stage_25_shadow_master.webp`
   - Stage 26: `backgrounds/stage_26_elite_final.webp`
   - Stage 27: `backgrounds/stage_27_sisters.webp`
   - Stage 28: `backgrounds/stage_28_multi_tactics.webp`
   - Stage 29: `backgrounds/stage_29_wind_final.webp`
   - Stage 30: `backgrounds/stage_30_final_boss.webp`

   **Chapter 4 (Stage 31-40)**
   - Stage 31: `backgrounds/stage_31_wedding.webp`
   - Stage 32: `backgrounds/stage_32_politics.webp`
   - Stage 33: `backgrounds/stage_33_mira_final.webp`
   - Stage 34: `backgrounds/stage_34_conflict.webp`
   - Stage 35: `backgrounds/stage_35_conspiracy.webp`
   - Stage 36: `backgrounds/stage_36_magic_lab.webp`
   - Stage 37: `backgrounds/stage_37_ancient.webp`
   - Stage 38: `backgrounds/stage_38_reconciliation.webp`
   - Stage 39: `backgrounds/stage_39_cooperation.webp`
   - Stage 40: `backgrounds/stage_40_cult.webp`

   **Chapter 5 (Stage 41-50)**
   - Stage 41: `backgrounds/stage_41_invasion.webp`
   - Stage 42: `backgrounds/stage_42_corrupted_stone.webp`
   - Stage 43: `backgrounds/stage_43_absolute_darkness.webp`
   - Stage 44: `backgrounds/stage_44_corruption_prison.webp`
   - Stage 45: `backgrounds/stage_45_cult_final.webp`
   - Stage 46: `backgrounds/stage_46_mastermind.webp`
   - Stage 47: `backgrounds/stage_47_corrupted_gathering.webp`
   - Stage 48: `backgrounds/stage_48_elder_cooperation.webp`
   - Stage 49: `backgrounds/stage_49_family.webp`
   - Stage 50: `backgrounds/stage_50_void_emperor.webp`

---

## ğŸ”§ ë²„ê·¸ ìˆ˜ì •

### 4. ìŠ¤í…Œì´ì§€ ìˆœì„œ ìˆ˜ì •

**íŒŒì¼**: `web/src/store.ts`

#### ë¬¸ì œ
- Stage 30ì´ Stage 10 ë‹¤ìŒì— ì˜ëª» ë°°ì¹˜ë˜ì–´ ìˆì—ˆìŒ
- ìŠ¤í…Œì´ì§€ ìˆœì„œ: 1, 2, 3, ..., 10, **30**, 11, 12, ..., 29, 31, ...

#### í•´ê²°
- Stage 30ì„ Stage 29 ë‹¤ìŒìœ¼ë¡œ ì´ë™
- ì˜¬ë°”ë¥¸ ìˆœì„œ: 1, 2, 3, ..., 10, 11, 12, ..., 29, **30**, 31, ...
- Stage 30ì˜ ë°°ê²½ ì´ë¯¸ì§€ ê²½ë¡œë„ `stage_30_final_boss.webp`ë¡œ ì—…ë°ì´íŠ¸

---

## ğŸ“Š ì‘ì—… í†µê³„

### ìˆ˜ì •ëœ íŒŒì¼
1. `ê¸°íšì„œ/ë°°ê²½_ì´ë¯¸ì§€_SD_í”„ë¡¬í”„íŠ¸.md` - í”„ë¡¬í”„íŠ¸ ê°€ì´ë“œ ì—…ë°ì´íŠ¸
2. `web/src/store.ts` - ìŠ¤í…Œì´ì§€ ë°ì´í„° ì—…ë°ì´íŠ¸

### ìƒì„±/ë³€í™˜ëœ íŒŒì¼
- WebP ë°°ê²½ ì´ë¯¸ì§€: 40ê°œ (Stage 11-50)

### ì¶”ê°€ëœ ì½”ë“œ
- ìŠ¤í…Œì´ì§€ story ê°ì²´: 40ê°œ (Stage 11-50)

---

## âœ… ì™„ë£Œëœ ì‘ì—… ì²´í¬ë¦¬ìŠ¤íŠ¸

- [x] Variation ì‹œìŠ¤í…œ ì œê±°
- [x] 50ìŠ¤í…Œì´ì§€ í”„ë¡¬í”„íŠ¸ ì™„ì„±
- [x] Negative Prompt ì¶”ê°€ ë° ê°œì„ 
- [x] Stage 11-50 ë°°ê²½ ì´ë¯¸ì§€ WebP ë³€í™˜
- [x] Stage 11-50 ìŠ¤í…Œì´ì§€ ë°ì´í„°ì— ë°°ê²½ ì´ë¯¸ì§€ ê²½ë¡œ ì¶”ê°€
- [x] ìŠ¤í…Œì´ì§€ ìˆœì„œ ìˆ˜ì • (Stage 30 ìœ„ì¹˜ ì¡°ì •)

---

## ğŸ“ ì°¸ê³  ì‚¬í•­

### ë°°ê²½ ì´ë¯¸ì§€ íŒŒì¼ ìœ„ì¹˜
```
web/public/backgrounds/
â”œâ”€â”€ stage_01_training_1.png (ê¸°ì¡´)
â”œâ”€â”€ stage_01_training_1.webp (ê¸°ì¡´)
â”œâ”€â”€ ...
â”œâ”€â”€ stage_11_training_advanced.png
â”œâ”€â”€ stage_11_training_advanced.webp
â”œâ”€â”€ ...
â””â”€â”€ stage_50_void_emperor.png
â””â”€â”€ stage_50_void_emperor.webp
```

### ìŠ¤í…Œì´ì§€ êµ¬ì¡°
```typescript
{
  id: number,
  name: string,
  theme: string,
  recommendedPower: number,
  firstReward: { gold: number, shards: number },
  repeatReward: { gold: number, shards: number },
  cleared: boolean,
  story: {
    description: string,
    backgroundImage: string  // WebP ê²½ë¡œ
  }
}
```

---

## ğŸ¯ ë‹¤ìŒ ì‘ì—… ì œì•ˆ

1. **ë°°ê²½ ì´ë¯¸ì§€ í’ˆì§ˆ ê²€ì¦**
   - ìƒì„±ëœ ë°°ê²½ ì´ë¯¸ì§€ë“¤ì´ ê²Œì„ì—ì„œ ì œëŒ€ë¡œ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸
   - í•´ìƒë„ ë° ìƒ‰ê° ê²€í† 

2. **ì„±ëŠ¥ ìµœì í™”**
   - ë°°ê²½ ì´ë¯¸ì§€ í”„ë¦¬ë¡œë”© ì‹œìŠ¤í…œ ê²€í† 
   - ì´ë¯¸ì§€ ìºì‹± ì „ëµ ê°œì„ 

3. **ì¶”ê°€ ê¸°ëŠ¥**
   - ë°°ê²½ ì´ë¯¸ì§€ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜
   - ìŠ¤í…Œì´ì§€ë³„ ë°°ê²½ ìŒì•… ì—°ë™

---

**ì‘ì—… ì™„ë£Œì¼**: 2024ë…„
**ì‘ì—…ì**: AI Assistant
**ê²€í†  ìƒíƒœ**: ì‚¬ìš©ì ìŠ¹ì¸ ì™„ë£Œ

